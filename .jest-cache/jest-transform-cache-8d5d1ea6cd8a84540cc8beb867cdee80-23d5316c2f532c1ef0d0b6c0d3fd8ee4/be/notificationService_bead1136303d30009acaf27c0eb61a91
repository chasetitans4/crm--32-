8a761198140b30365de2331539657e78
"use strict";

/* istanbul ignore next */
function cov_2gqr7kvrmv() {
  var path = "C:\\Users\\chase\\Downloads\\crm (32)\\src\\services\\notificationService.ts";
  var hash = "071085e2c0ac7717365453487e060d828c2d2c72";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\chase\\Downloads\\crm (32)\\src\\services\\notificationService.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 24
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 35
        }
      },
      "6": {
        start: {
          line: 19,
          column: 18
        },
        end: {
          line: 19,
          column: 44
        }
      },
      "7": {
        start: {
          line: 23,
          column: 8
        },
        end: {
          line: 25,
          column: 9
        }
      },
      "8": {
        start: {
          line: 24,
          column: 12
        },
        end: {
          line: 24,
          column: 66
        }
      },
      "9": {
        start: {
          line: 26,
          column: 32
        },
        end: {
          line: 28,
          column: 23
        }
      },
      "10": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 86
        }
      },
      "11": {
        start: {
          line: 29,
          column: 19
        },
        end: {
          line: 29,
          column: 86
        }
      },
      "12": {
        start: {
          line: 30,
          column: 8
        },
        end: {
          line: 30,
          column: 26
        }
      },
      "13": {
        start: {
          line: 33,
          column: 8
        },
        end: {
          line: 35,
          column: 9
        }
      },
      "14": {
        start: {
          line: 34,
          column: 12
        },
        end: {
          line: 34,
          column: 66
        }
      },
      "15": {
        start: {
          line: 36,
          column: 33
        },
        end: {
          line: 39,
          column: 50
        }
      },
      "16": {
        start: {
          line: 40,
          column: 8
        },
        end: {
          line: 40,
          column: 83
        }
      },
      "17": {
        start: {
          line: 40,
          column: 19
        },
        end: {
          line: 40,
          column: 83
        }
      },
      "18": {
        start: {
          line: 41,
          column: 8
        },
        end: {
          line: 41,
          column: 26
        }
      },
      "19": {
        start: {
          line: 44,
          column: 8
        },
        end: {
          line: 46,
          column: 9
        }
      },
      "20": {
        start: {
          line: 45,
          column: 12
        },
        end: {
          line: 45,
          column: 66
        }
      },
      "21": {
        start: {
          line: 47,
          column: 26
        },
        end: {
          line: 50,
          column: 35
        }
      },
      "22": {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 51,
          column: 92
        }
      },
      "23": {
        start: {
          line: 51,
          column: 19
        },
        end: {
          line: 51,
          column: 92
        }
      },
      "24": {
        start: {
          line: 54,
          column: 26
        },
        end: {
          line: 57,
          column: 50
        }
      },
      "25": {
        start: {
          line: 58,
          column: 8
        },
        end: {
          line: 58,
          column: 97
        }
      },
      "26": {
        start: {
          line: 58,
          column: 19
        },
        end: {
          line: 58,
          column: 97
        }
      },
      "27": {
        start: {
          line: 61,
          column: 26
        },
        end: {
          line: 61,
          column: 106
        }
      },
      "28": {
        start: {
          line: 62,
          column: 8
        },
        end: {
          line: 62,
          column: 86
        }
      },
      "29": {
        start: {
          line: 62,
          column: 19
        },
        end: {
          line: 62,
          column: 86
        }
      },
      "30": {
        start: {
          line: 65,
          column: 32
        },
        end: {
          line: 69,
          column: 28
        }
      },
      "31": {
        start: {
          line: 70,
          column: 8
        },
        end: {
          line: 70,
          column: 86
        }
      },
      "32": {
        start: {
          line: 70,
          column: 19
        },
        end: {
          line: 70,
          column: 86
        }
      },
      "33": {
        start: {
          line: 71,
          column: 8
        },
        end: {
          line: 71,
          column: 20
        }
      },
      "34": {
        start: {
          line: 75,
          column: 8
        },
        end: {
          line: 77,
          column: 9
        }
      },
      "35": {
        start: {
          line: 76,
          column: 12
        },
        end: {
          line: 76,
          column: 66
        }
      },
      "36": {
        start: {
          line: 78,
          column: 32
        },
        end: {
          line: 78,
          column: 132
        }
      },
      "37": {
        start: {
          line: 79,
          column: 8
        },
        end: {
          line: 81,
          column: 9
        }
      },
      "38": {
        start: {
          line: 80,
          column: 12
        },
        end: {
          line: 80,
          column: 90
        }
      },
      "39": {
        start: {
          line: 82,
          column: 8
        },
        end: {
          line: 82,
          column: 20
        }
      },
      "40": {
        start: {
          line: 85,
          column: 32
        },
        end: {
          line: 89,
          column: 28
        }
      },
      "41": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 90,
          column: 98
        }
      },
      "42": {
        start: {
          line: 90,
          column: 19
        },
        end: {
          line: 90,
          column: 98
        }
      },
      "43": {
        start: {
          line: 91,
          column: 8
        },
        end: {
          line: 91,
          column: 20
        }
      },
      "44": {
        start: {
          line: 95,
          column: 28
        },
        end: {
          line: 95,
          column: 73
        }
      },
      "45": {
        start: {
          line: 96,
          column: 8
        },
        end: {
          line: 96,
          column: 49
        }
      },
      "46": {
        start: {
          line: 96,
          column: 42
        },
        end: {
          line: 96,
          column: 49
        }
      },
      "47": {
        start: {
          line: 97,
          column: 29
        },
        end: {
          line: 97,
          column: 98
        }
      },
      "48": {
        start: {
          line: 98,
          column: 8
        },
        end: {
          line: 111,
          column: 11
        }
      },
      "49": {
        start: {
          line: 114,
          column: 28
        },
        end: {
          line: 114,
          column: 73
        }
      },
      "50": {
        start: {
          line: 115,
          column: 8
        },
        end: {
          line: 115,
          column: 47
        }
      },
      "51": {
        start: {
          line: 115,
          column: 40
        },
        end: {
          line: 115,
          column: 47
        }
      },
      "52": {
        start: {
          line: 116,
          column: 26
        },
        end: {
          line: 116,
          column: 97
        }
      },
      "53": {
        start: {
          line: 117,
          column: 8
        },
        end: {
          line: 130,
          column: 11
        }
      },
      "54": {
        start: {
          line: 133,
          column: 28
        },
        end: {
          line: 133,
          column: 73
        }
      },
      "55": {
        start: {
          line: 134,
          column: 8
        },
        end: {
          line: 134,
          column: 53
        }
      },
      "56": {
        start: {
          line: 134,
          column: 46
        },
        end: {
          line: 134,
          column: 53
        }
      },
      "57": {
        start: {
          line: 135,
          column: 26
        },
        end: {
          line: 135,
          column: 46
        }
      },
      "58": {
        start: {
          line: 136,
          column: 25
        },
        end: {
          line: 136,
          column: 54
        }
      },
      "59": {
        start: {
          line: 137,
          column: 22
        },
        end: {
          line: 137,
          column: 73
        }
      },
      "60": {
        start: {
          line: 138,
          column: 24
        },
        end: {
          line: 138,
          column: 143
        }
      },
      "61": {
        start: {
          line: 139,
          column: 8
        },
        end: {
          line: 153,
          column: 11
        }
      },
      "62": {
        start: {
          line: 156,
          column: 28
        },
        end: {
          line: 156,
          column: 73
        }
      },
      "63": {
        start: {
          line: 157,
          column: 8
        },
        end: {
          line: 157,
          column: 51
        }
      },
      "64": {
        start: {
          line: 157,
          column: 44
        },
        end: {
          line: 157,
          column: 51
        }
      },
      "65": {
        start: {
          line: 158,
          column: 8
        },
        end: {
          line: 171,
          column: 11
        }
      },
      "66": {
        start: {
          line: 174,
          column: 8
        },
        end: {
          line: 187,
          column: 11
        }
      },
      "67": {
        start: {
          line: 191,
          column: 8
        },
        end: {
          line: 193,
          column: 9
        }
      },
      "68": {
        start: {
          line: 192,
          column: 12
        },
        end: {
          line: 192,
          column: 66
        }
      },
      "69": {
        start: {
          line: 194,
          column: 8
        },
        end: {
          line: 194,
          column: 38
        }
      },
      "70": {
        start: {
          line: 195,
          column: 24
        },
        end: {
          line: 205,
          column: 22
        }
      },
      "71": {
        start: {
          line: 202,
          column: 34
        },
        end: {
          line: 202,
          column: 69
        }
      },
      "72": {
        start: {
          line: 203,
          column: 12
        },
        end: {
          line: 203,
          column: 54
        }
      },
      "73": {
        start: {
          line: 204,
          column: 12
        },
        end: {
          line: 204,
          column: 72
        }
      },
      "74": {
        start: {
          line: 204,
          column: 47
        },
        end: {
          line: 204,
          column: 70
        }
      },
      "75": {
        start: {
          line: 206,
          column: 8
        },
        end: {
          line: 209,
          column: 10
        }
      },
      "76": {
        start: {
          line: 207,
          column: 12
        },
        end: {
          line: 207,
          column: 34
        }
      },
      "77": {
        start: {
          line: 208,
          column: 12
        },
        end: {
          line: 208,
          column: 72
        }
      },
      "78": {
        start: {
          line: 208,
          column: 56
        },
        end: {
          line: 208,
          column: 70
        }
      },
      "79": {
        start: {
          line: 213,
          column: 28
        },
        end: {
          line: 213,
          column: 73
        }
      },
      "80": {
        start: {
          line: 214,
          column: 8
        },
        end: {
          line: 214,
          column: 54
        }
      },
      "81": {
        start: {
          line: 214,
          column: 47
        },
        end: {
          line: 214,
          column: 54
        }
      },
      "82": {
        start: {
          line: 216,
          column: 31
        },
        end: {
          line: 216,
          column: 111
        }
      },
      "83": {
        start: {
          line: 217,
          column: 8
        },
        end: {
          line: 217,
          column: 33
        }
      },
      "84": {
        start: {
          line: 217,
          column: 26
        },
        end: {
          line: 217,
          column: 33
        }
      },
      "85": {
        start: {
          line: 219,
          column: 35
        },
        end: {
          line: 219,
          column: 155
        }
      },
      "86": {
        start: {
          line: 220,
          column: 8
        },
        end: {
          line: 220,
          column: 30
        }
      },
      "87": {
        start: {
          line: 220,
          column: 23
        },
        end: {
          line: 220,
          column: 30
        }
      },
      "88": {
        start: {
          line: 222,
          column: 22
        },
        end: {
          line: 222,
          column: 38
        }
      },
      "89": {
        start: {
          line: 223,
          column: 19
        },
        end: {
          line: 223,
          column: 32
        }
      },
      "90": {
        start: {
          line: 224,
          column: 8
        },
        end: {
          line: 228,
          column: 11
        }
      },
      "91": {
        start: {
          line: 225,
          column: 32
        },
        end: {
          line: 225,
          column: 44
        }
      },
      "92": {
        start: {
          line: 226,
          column: 12
        },
        end: {
          line: 226,
          column: 83
        }
      },
      "93": {
        start: {
          line: 227,
          column: 12
        },
        end: {
          line: 227,
          column: 77
        }
      },
      "94": {
        start: {
          line: 235,
          column: 26
        },
        end: {
          line: 239,
          column: 16
        }
      },
      "95": {
        start: {
          line: 235,
          column: 115
        },
        end: {
          line: 239,
          column: 13
        }
      },
      "96": {
        start: {
          line: 240,
          column: 8
        },
        end: {
          line: 240,
          column: 92
        }
      },
      "97": {
        start: {
          line: 240,
          column: 19
        },
        end: {
          line: 240,
          column: 92
        }
      },
      "98": {
        start: {
          line: 244,
          column: 27
        },
        end: {
          line: 244,
          column: 37
        }
      },
      "99": {
        start: {
          line: 245,
          column: 8
        },
        end: {
          line: 245,
          column: 62
        }
      },
      "100": {
        start: {
          line: 246,
          column: 26
        },
        end: {
          line: 246,
          column: 163
        }
      },
      "101": {
        start: {
          line: 247,
          column: 8
        },
        end: {
          line: 247,
          column: 92
        }
      },
      "102": {
        start: {
          line: 247,
          column: 19
        },
        end: {
          line: 247,
          column: 92
        }
      },
      "103": {
        start: {
          line: 250,
          column: 8
        },
        end: {
          line: 250,
          column: 28
        }
      },
      "104": {
        start: {
          line: 251,
          column: 8
        },
        end: {
          line: 251,
          column: 39
        }
      },
      "105": {
        start: {
          line: 254,
          column: 28
        },
        end: {
          line: 254,
          column: 53
        }
      },
      "106": {
        start: {
          line: 255,
          column: 17
        },
        end: {
          line: 255,
          column: 36
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 19
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 31
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 22,
            column: 4
          },
          end: {
            line: 22,
            column: 5
          }
        },
        loc: {
          start: {
            line: 22,
            column: 47
          },
          end: {
            line: 31,
            column: 5
          }
        },
        line: 22
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 32,
            column: 4
          },
          end: {
            line: 32,
            column: 5
          }
        },
        loc: {
          start: {
            line: 32,
            column: 33
          },
          end: {
            line: 42,
            column: 5
          }
        },
        line: 32
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 43,
            column: 4
          },
          end: {
            line: 43,
            column: 5
          }
        },
        loc: {
          start: {
            line: 43,
            column: 37
          },
          end: {
            line: 52,
            column: 5
          }
        },
        line: 43
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 53,
            column: 4
          },
          end: {
            line: 53,
            column: 5
          }
        },
        loc: {
          start: {
            line: 53,
            column: 32
          },
          end: {
            line: 59,
            column: 5
          }
        },
        line: 53
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 60,
            column: 4
          },
          end: {
            line: 60,
            column: 5
          }
        },
        loc: {
          start: {
            line: 60,
            column: 45
          },
          end: {
            line: 63,
            column: 5
          }
        },
        line: 60
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 64,
            column: 4
          },
          end: {
            line: 64,
            column: 5
          }
        },
        loc: {
          start: {
            line: 64,
            column: 43
          },
          end: {
            line: 72,
            column: 5
          }
        },
        line: 64
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 74,
            column: 4
          },
          end: {
            line: 74,
            column: 5
          }
        },
        loc: {
          start: {
            line: 74,
            column: 45
          },
          end: {
            line: 83,
            column: 5
          }
        },
        line: 74
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 84,
            column: 4
          },
          end: {
            line: 84,
            column: 5
          }
        },
        loc: {
          start: {
            line: 84,
            column: 61
          },
          end: {
            line: 92,
            column: 5
          }
        },
        line: 84
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 94,
            column: 4
          },
          end: {
            line: 94,
            column: 5
          }
        },
        loc: {
          start: {
            line: 94,
            column: 54
          },
          end: {
            line: 112,
            column: 5
          }
        },
        line: 94
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 113,
            column: 4
          },
          end: {
            line: 113,
            column: 5
          }
        },
        loc: {
          start: {
            line: 113,
            column: 62
          },
          end: {
            line: 131,
            column: 5
          }
        },
        line: 113
      },
      "13": {
        name: "(anonymous_13)",
        decl: {
          start: {
            line: 132,
            column: 4
          },
          end: {
            line: 132,
            column: 5
          }
        },
        loc: {
          start: {
            line: 132,
            column: 80
          },
          end: {
            line: 154,
            column: 5
          }
        },
        line: 132
      },
      "14": {
        name: "(anonymous_14)",
        decl: {
          start: {
            line: 155,
            column: 4
          },
          end: {
            line: 155,
            column: 5
          }
        },
        loc: {
          start: {
            line: 155,
            column: 74
          },
          end: {
            line: 172,
            column: 5
          }
        },
        line: 155
      },
      "15": {
        name: "(anonymous_15)",
        decl: {
          start: {
            line: 173,
            column: 4
          },
          end: {
            line: 173,
            column: 5
          }
        },
        loc: {
          start: {
            line: 173,
            column: 71
          },
          end: {
            line: 188,
            column: 5
          }
        },
        line: 173
      },
      "16": {
        name: "(anonymous_16)",
        decl: {
          start: {
            line: 190,
            column: 4
          },
          end: {
            line: 190,
            column: 5
          }
        },
        loc: {
          start: {
            line: 190,
            column: 47
          },
          end: {
            line: 210,
            column: 5
          }
        },
        line: 190
      },
      "17": {
        name: "(anonymous_17)",
        decl: {
          start: {
            line: 200,
            column: 11
          },
          end: {
            line: 200,
            column: 12
          }
        },
        loc: {
          start: {
            line: 200,
            column: 21
          },
          end: {
            line: 205,
            column: 9
          }
        },
        line: 200
      },
      "18": {
        name: "(anonymous_18)",
        decl: {
          start: {
            line: 204,
            column: 35
          },
          end: {
            line: 204,
            column: 36
          }
        },
        loc: {
          start: {
            line: 204,
            column: 47
          },
          end: {
            line: 204,
            column: 70
          }
        },
        line: 204
      },
      "19": {
        name: "(anonymous_19)",
        decl: {
          start: {
            line: 206,
            column: 15
          },
          end: {
            line: 206,
            column: 16
          }
        },
        loc: {
          start: {
            line: 206,
            column: 19
          },
          end: {
            line: 209,
            column: 9
          }
        },
        line: 206
      },
      "20": {
        name: "(anonymous_20)",
        decl: {
          start: {
            line: 208,
            column: 51
          },
          end: {
            line: 208,
            column: 52
          }
        },
        loc: {
          start: {
            line: 208,
            column: 56
          },
          end: {
            line: 208,
            column: 70
          }
        },
        line: 208
      },
      "21": {
        name: "(anonymous_21)",
        decl: {
          start: {
            line: 212,
            column: 4
          },
          end: {
            line: 212,
            column: 5
          }
        },
        loc: {
          start: {
            line: 212,
            column: 65
          },
          end: {
            line: 232,
            column: 5
          }
        },
        line: 212
      },
      "22": {
        name: "(anonymous_22)",
        decl: {
          start: {
            line: 224,
            column: 42
          },
          end: {
            line: 224,
            column: 43
          }
        },
        loc: {
          start: {
            line: 224,
            column: 58
          },
          end: {
            line: 228,
            column: 9
          }
        },
        line: 224
      },
      "23": {
        name: "(anonymous_23)",
        decl: {
          start: {
            line: 234,
            column: 4
          },
          end: {
            line: 234,
            column: 5
          }
        },
        loc: {
          start: {
            line: 234,
            column: 49
          },
          end: {
            line: 241,
            column: 5
          }
        },
        line: 234
      },
      "24": {
        name: "(anonymous_24)",
        decl: {
          start: {
            line: 235,
            column: 98
          },
          end: {
            line: 235,
            column: 99
          }
        },
        loc: {
          start: {
            line: 235,
            column: 115
          },
          end: {
            line: 239,
            column: 13
          }
        },
        line: 235
      },
      "25": {
        name: "(anonymous_25)",
        decl: {
          start: {
            line: 243,
            column: 4
          },
          end: {
            line: 243,
            column: 5
          }
        },
        loc: {
          start: {
            line: 243,
            column: 59
          },
          end: {
            line: 248,
            column: 5
          }
        },
        line: 243
      },
      "26": {
        name: "(anonymous_26)",
        decl: {
          start: {
            line: 249,
            column: 4
          },
          end: {
            line: 249,
            column: 5
          }
        },
        loc: {
          start: {
            line: 249,
            column: 17
          },
          end: {
            line: 252,
            column: 5
          }
        },
        line: 249
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 22,
            column: 35
          },
          end: {
            line: 22,
            column: 45
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 22,
            column: 43
          },
          end: {
            line: 22,
            column: 45
          }
        }],
        line: 22
      },
      "1": {
        loc: {
          start: {
            line: 23,
            column: 8
          },
          end: {
            line: 25,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 23,
            column: 8
          },
          end: {
            line: 25,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 23
      },
      "2": {
        loc: {
          start: {
            line: 29,
            column: 8
          },
          end: {
            line: 29,
            column: 86
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 29,
            column: 8
          },
          end: {
            line: 29,
            column: 86
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 29
      },
      "3": {
        loc: {
          start: {
            line: 30,
            column: 15
          },
          end: {
            line: 30,
            column: 25
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 30,
            column: 15
          },
          end: {
            line: 30,
            column: 19
          }
        }, {
          start: {
            line: 30,
            column: 23
          },
          end: {
            line: 30,
            column: 25
          }
        }],
        line: 30
      },
      "4": {
        loc: {
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 35,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 33,
            column: 8
          },
          end: {
            line: 35,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 33
      },
      "5": {
        loc: {
          start: {
            line: 40,
            column: 8
          },
          end: {
            line: 40,
            column: 83
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 40,
            column: 8
          },
          end: {
            line: 40,
            column: 83
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 40
      },
      "6": {
        loc: {
          start: {
            line: 41,
            column: 15
          },
          end: {
            line: 41,
            column: 25
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 41,
            column: 15
          },
          end: {
            line: 41,
            column: 20
          }
        }, {
          start: {
            line: 41,
            column: 24
          },
          end: {
            line: 41,
            column: 25
          }
        }],
        line: 41
      },
      "7": {
        loc: {
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 46,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 44,
            column: 8
          },
          end: {
            line: 46,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 44
      },
      "8": {
        loc: {
          start: {
            line: 51,
            column: 8
          },
          end: {
            line: 51,
            column: 92
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 51,
            column: 8
          },
          end: {
            line: 51,
            column: 92
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 51
      },
      "9": {
        loc: {
          start: {
            line: 58,
            column: 8
          },
          end: {
            line: 58,
            column: 97
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 58,
            column: 8
          },
          end: {
            line: 58,
            column: 97
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 58
      },
      "10": {
        loc: {
          start: {
            line: 62,
            column: 8
          },
          end: {
            line: 62,
            column: 86
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 62,
            column: 8
          },
          end: {
            line: 62,
            column: 86
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 62
      },
      "11": {
        loc: {
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 70,
            column: 86
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 8
          },
          end: {
            line: 70,
            column: 86
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      },
      "12": {
        loc: {
          start: {
            line: 75,
            column: 8
          },
          end: {
            line: 77,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 75,
            column: 8
          },
          end: {
            line: 77,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 75
      },
      "13": {
        loc: {
          start: {
            line: 79,
            column: 8
          },
          end: {
            line: 81,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 79,
            column: 8
          },
          end: {
            line: 81,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 79
      },
      "14": {
        loc: {
          start: {
            line: 79,
            column: 12
          },
          end: {
            line: 79,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 79,
            column: 12
          },
          end: {
            line: 79,
            column: 17
          }
        }, {
          start: {
            line: 79,
            column: 21
          },
          end: {
            line: 79,
            column: 46
          }
        }],
        line: 79
      },
      "15": {
        loc: {
          start: {
            line: 90,
            column: 8
          },
          end: {
            line: 90,
            column: 98
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 90,
            column: 8
          },
          end: {
            line: 90,
            column: 98
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 90
      },
      "16": {
        loc: {
          start: {
            line: 96,
            column: 8
          },
          end: {
            line: 96,
            column: 49
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 96,
            column: 8
          },
          end: {
            line: 96,
            column: 49
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 96
      },
      "17": {
        loc: {
          start: {
            line: 115,
            column: 8
          },
          end: {
            line: 115,
            column: 47
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 115,
            column: 8
          },
          end: {
            line: 115,
            column: 47
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 115
      },
      "18": {
        loc: {
          start: {
            line: 134,
            column: 8
          },
          end: {
            line: 134,
            column: 53
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 134,
            column: 8
          },
          end: {
            line: 134,
            column: 53
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 134
      },
      "19": {
        loc: {
          start: {
            line: 136,
            column: 25
          },
          end: {
            line: 136,
            column: 54
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 136,
            column: 37
          },
          end: {
            line: 136,
            column: 45
          }
        }, {
          start: {
            line: 136,
            column: 48
          },
          end: {
            line: 136,
            column: 54
          }
        }],
        line: 136
      },
      "20": {
        loc: {
          start: {
            line: 137,
            column: 22
          },
          end: {
            line: 137,
            column: 73
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 137,
            column: 34
          },
          end: {
            line: 137,
            column: 51
          }
        }, {
          start: {
            line: 137,
            column: 54
          },
          end: {
            line: 137,
            column: 73
          }
        }],
        line: 137
      },
      "21": {
        loc: {
          start: {
            line: 138,
            column: 24
          },
          end: {
            line: 138,
            column: 143
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 138,
            column: 36
          },
          end: {
            line: 138,
            column: 87
          }
        }, {
          start: {
            line: 138,
            column: 90
          },
          end: {
            line: 138,
            column: 143
          }
        }],
        line: 138
      },
      "22": {
        loc: {
          start: {
            line: 157,
            column: 8
          },
          end: {
            line: 157,
            column: 51
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 157,
            column: 8
          },
          end: {
            line: 157,
            column: 51
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 157
      },
      "23": {
        loc: {
          start: {
            line: 191,
            column: 8
          },
          end: {
            line: 193,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 191,
            column: 8
          },
          end: {
            line: 193,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 191
      },
      "24": {
        loc: {
          start: {
            line: 214,
            column: 8
          },
          end: {
            line: 214,
            column: 54
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 214,
            column: 8
          },
          end: {
            line: 214,
            column: 54
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 214
      },
      "25": {
        loc: {
          start: {
            line: 217,
            column: 8
          },
          end: {
            line: 217,
            column: 33
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 217,
            column: 8
          },
          end: {
            line: 217,
            column: 33
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 217
      },
      "26": {
        loc: {
          start: {
            line: 220,
            column: 8
          },
          end: {
            line: 220,
            column: 30
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 220,
            column: 8
          },
          end: {
            line: 220,
            column: 30
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 220
      },
      "27": {
        loc: {
          start: {
            line: 240,
            column: 8
          },
          end: {
            line: 240,
            column: 92
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 240,
            column: 8
          },
          end: {
            line: 240,
            column: 92
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 240
      },
      "28": {
        loc: {
          start: {
            line: 243,
            column: 42
          },
          end: {
            line: 243,
            column: 57
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 243,
            column: 55
          },
          end: {
            line: 243,
            column: 57
          }
        }],
        line: 243
      },
      "29": {
        loc: {
          start: {
            line: 247,
            column: 8
          },
          end: {
            line: 247,
            column: 92
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 247,
            column: 8
          },
          end: {
            line: 247,
            column: 92
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 247
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0,
      "78": 0,
      "79": 0,
      "80": 0,
      "81": 0,
      "82": 0,
      "83": 0,
      "84": 0,
      "85": 0,
      "86": 0,
      "87": 0,
      "88": 0,
      "89": 0,
      "90": 0,
      "91": 0,
      "92": 0,
      "93": 0,
      "94": 0,
      "95": 0,
      "96": 0,
      "97": 0,
      "98": 0,
      "99": 0,
      "100": 0,
      "101": 0,
      "102": 0,
      "103": 0,
      "104": 0,
      "105": 0,
      "106": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0
    },
    b: {
      "0": [0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0],
      "25": [0, 0],
      "26": [0, 0],
      "27": [0, 0],
      "28": [0],
      "29": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\chase\\Downloads\\crm (32)\\src\\services\\notificationService.ts"],
      sourcesContent: ["import { supabase } from \"../lib/supabase\"\nimport type { Database } from \"../lib/supabase\"\n\ntype Tables<T extends keyof Database[\"public\"][\"Tables\"]> = Database[\"public\"][\"Tables\"][T][\"Row\"]\ntype Inserts<T extends keyof Database[\"public\"][\"Tables\"]> = Database[\"public\"][\"Tables\"][T][\"Insert\"]\ntype Updates<T extends keyof Database[\"public\"][\"Tables\"]> = Database[\"public\"][\"Tables\"][T][\"Update\"]\n\nexport interface NotificationPreferences {\n  id: string\n  user_id: string\n  email_notifications: boolean\n  push_notifications: boolean\n  in_app_notifications: boolean\n  task_reminders: boolean\n  event_alerts: boolean\n  lead_assignments: boolean\n  invoice_due_alerts: boolean\n  system_updates: boolean\n  marketing_emails: boolean\n  reminder_timing: number // minutes before event\n  quiet_hours_start: string // HH:MM format\n  quiet_hours_end: string // HH:MM format\n  created_at: string\n  updated_at: string\n}\n\nexport interface Notification {\n  id: string\n  user_id: string\n  type: \"task\" | \"event\" | \"invoice\" | \"lead\" | \"system\" | \"mention\"\n  title: string\n  message: string\n  priority: \"low\" | \"medium\" | \"high\" | \"urgent\"\n  read: boolean\n  action_url?: string\n  action_label?: string\n  metadata?: Record<string, any>\n  scheduled_for?: string\n  created_at: string\n  updated_at: string\n}\n\nexport interface NotificationTemplate {\n  id: string\n  name: string\n  type: string\n  subject: string\n  body: string\n  variables: string[]\n  active: boolean\n  created_at: string\n  updated_at: string\n}\n\nclass NotificationService {\n  private listeners: Array<(notifications: Notification[]) => void> = []\n  private currentNotifications: Notification[] = []\n\n  // Notification CRUD operations\n  async getNotifications(userId: string, limit = 50): Promise<Notification[]> {\n    if (!supabase) {\n      throw new Error('Supabase client is not initialized');\n    }\n    \n    const { data, error } = await supabase\n      .from(\"notifications\")\n      .select(\"*\")\n      .eq(\"user_id\", userId)\n      .order(\"created_at\", { ascending: false })\n      .limit(limit)\n\n    if (error) throw new Error(`Failed to fetch notifications: ${error.message}`)\n    return data || []\n  }\n\n  async getUnreadCount(userId: string): Promise<number> {\n    if (!supabase) {\n      throw new Error('Supabase client is not initialized');\n    }\n    \n    const { count, error } = await supabase\n      .from(\"notifications\")\n      .select(\"*\", { count: \"exact\", head: true })\n      .eq(\"user_id\", userId)\n      .eq(\"read\", false)\n\n    if (error) throw new Error(`Failed to get unread count: ${error.message}`)\n    return count || 0\n  }\n\n  async markAsRead(notificationId: string): Promise<void> {\n    if (!supabase) {\n      throw new Error('Supabase client is not initialized');\n    }\n    \n    const { error } = await (supabase as any)\n      .from(\"notifications\")\n      .update({ read: true, updated_at: new Date().toISOString() } as any)\n      .eq(\"id\", notificationId)\n\n    if (error) throw new Error(`Failed to mark notification as read: ${error.message}`)\n  }\n\n  async markAllAsRead(userId: string): Promise<void> {\n    const { error } = await (supabase as any)\n      .from(\"notifications\")\n      .update({ read: true, updated_at: new Date().toISOString() } as any)\n      .eq(\"user_id\", userId)\n      .eq(\"read\", false)\n\n    if (error) throw new Error(`Failed to mark all notifications as read: ${error.message}`)\n  }\n\n  async deleteNotification(notificationId: string): Promise<void> {\n    const { error } = await (supabase as any).from(\"notifications\").delete().eq(\"id\", notificationId)\n\n    if (error) throw new Error(`Failed to delete notification: ${error.message}`)\n  }\n\n  async createNotification(\n    notification: Omit<Notification, \"id\" | \"created_at\" | \"updated_at\">,\n  ): Promise<Notification> {\n    const { data, error } = await (supabase as any)\n      .from(\"notifications\")\n      .insert({\n        ...notification,\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString(),\n      } as any)\n      .select()\n      .single()\n\n    if (error) throw new Error(`Failed to create notification: ${error.message}`)\n    return data\n  }\n\n  // Notification preferences\n  async getNotificationPreferences(userId: string): Promise<NotificationPreferences | null> {\n    if (!supabase) {\n      throw new Error('Supabase client is not initialized');\n    }\n    \n    const { data, error } = await supabase.from(\"notification_preferences\").select(\"*\").eq(\"user_id\", userId).single()\n\n    if (error && error.code !== \"PGRST116\") {\n      throw new Error(`Failed to fetch notification preferences: ${error.message}`)\n    }\n    return data\n  }\n\n  async updateNotificationPreferences(\n    userId: string,\n    preferences: Partial<Omit<NotificationPreferences, \"id\" | \"user_id\" | \"created_at\" | \"updated_at\">>,\n  ): Promise<NotificationPreferences> {\n    const { data, error } = await (supabase as any)\n      .from(\"notification_preferences\")\n      .upsert({\n        user_id: userId,\n        ...preferences,\n        updated_at: new Date().toISOString(),\n      } as any)\n      .select()\n      .single()\n\n    if (error) throw new Error(`Failed to update notification preferences: ${error.message}`)\n    return data\n  }\n\n  // Smart notification creation based on events\n  async createTaskReminder(taskId: string, userId: string, dueDate: Date): Promise<void> {\n    const preferences = await this.getNotificationPreferences(userId)\n    if (!preferences?.task_reminders) return\n\n    const reminderTime = new Date(dueDate.getTime() - preferences.reminder_timing * 60 * 1000)\n\n    await this.createNotification({\n      user_id: userId,\n      type: \"task\",\n      title: \"Task Due Soon\",\n      message: `Your task is due in ${preferences.reminder_timing} minutes`,\n      priority: \"medium\",\n      read: false,\n      action_url: \"/tasks\",\n      action_label: \"View Task\",\n      metadata: { task_id: taskId },\n      scheduled_for: reminderTime.toISOString(),\n    })\n  }\n\n  async createEventAlert(eventId: string, userId: string, startDate: Date, title: string): Promise<void> {\n    const preferences = await this.getNotificationPreferences(userId)\n    if (!preferences?.event_alerts) return\n\n    const alertTime = new Date(startDate.getTime() - preferences.reminder_timing * 60 * 1000)\n\n    await this.createNotification({\n      user_id: userId,\n      type: \"event\",\n      title: \"Upcoming Event\",\n      message: `\"${title}\" starts in ${preferences.reminder_timing} minutes`,\n      priority: \"high\",\n      read: false,\n      action_url: \"/calendar\",\n      action_label: \"View Calendar\",\n      metadata: { event_id: eventId },\n      scheduled_for: alertTime.toISOString(),\n    })\n  }\n\n  async createInvoiceDueAlert(\n    invoiceId: string,\n    userId: string,\n    clientName: string,\n    amount: number,\n    dueDate: Date,\n  ): Promise<void> {\n    const preferences = await this.getNotificationPreferences(userId)\n    if (!preferences?.invoice_due_alerts) return\n\n    const isOverdue = dueDate < new Date()\n    const priority = isOverdue ? \"urgent\" : \"high\"\n    const title = isOverdue ? \"Invoice Overdue\" : \"Invoice Due Today\"\n    const message = isOverdue\n      ? `Invoice for ${clientName} ($${amount}) is overdue`\n      : `Invoice for ${clientName} ($${amount}) is due today`\n\n    await this.createNotification({\n      user_id: userId,\n      type: \"invoice\",\n      title,\n      message,\n      priority,\n      read: false,\n      action_url: \"/invoicing\",\n      action_label: \"View Invoice\",\n      metadata: { invoice_id: invoiceId, client_name: clientName, amount },\n    })\n  }\n\n  async createLeadAssignmentAlert(leadId: string, userId: string, leadName: string, assignedBy: string): Promise<void> {\n    const preferences = await this.getNotificationPreferences(userId)\n    if (!preferences?.lead_assignments) return\n\n    await this.createNotification({\n      user_id: userId,\n      type: \"lead\",\n      title: \"New Lead Assigned\",\n      message: `You have been assigned a new lead: ${leadName} by ${assignedBy}`,\n      priority: \"medium\",\n      read: false,\n      action_url: \"/clients\",\n      action_label: \"View Lead\",\n      metadata: { lead_id: leadId, assigned_by: assignedBy },\n    })\n  }\n\n  async createMentionAlert(userId: string, mentionedBy: string, context: string, contextUrl: string): Promise<void> {\n    await this.createNotification({\n      user_id: userId,\n      type: \"mention\",\n      title: \"You were mentioned\",\n      message: `${mentionedBy} mentioned you in ${context}`,\n      priority: \"medium\",\n      read: false,\n      action_url: contextUrl,\n      action_label: \"View\",\n      metadata: { mentioned_by: mentionedBy, context },\n    })\n  }\n\n  // Real-time subscription\n  subscribeToNotifications(userId: string, callback: (notifications: Notification[]) => void) {\n    if (!supabase) {\n      throw new Error('Supabase client is not initialized');\n    }\n    \n    this.listeners.push(callback)\n\n    const channel = supabase\n      .channel(`notifications:${userId}`)\n      .on(\n        \"postgres_changes\",\n        {\n          event: \"*\",\n          schema: \"public\",\n          table: \"notifications\",\n          filter: `user_id=eq.${userId}`,\n        },\n        async () => {\n          // Fetch updated notifications\n          const notifications = await this.getNotifications(userId)\n          this.currentNotifications = notifications\n          this.listeners.forEach((listener) => listener(notifications))\n        },\n      )\n      .subscribe()\n\n    return () => {\n      channel.unsubscribe()\n      this.listeners = this.listeners.filter((l) => l !== callback)\n    }\n  }\n\n  // Email notification service\n  async sendEmailNotification(userId: string, templateName: string, variables: Record<string, any>): Promise<void> {\n    const preferences = await this.getNotificationPreferences(userId)\n    if (!preferences?.email_notifications) return\n\n    // Get user email\n    const { data: user } = await (supabase as any).from(\"users\").select(\"email\").eq(\"id\", userId).single()\n\n    if (!user?.email) return\n\n    // Get email template\n    const { data: template } = await (supabase as any)\n      .from(\"notification_templates\")\n      .select(\"*\")\n      .eq(\"name\", templateName)\n      .eq(\"active\", true)\n      .single()\n\n    if (!template) return\n\n    // Replace variables in template\n    let subject = (template as any).subject\n    let body = (template as any).body\n\n    Object.entries(variables).forEach(([key, value]) => {\n      const placeholder = `{{${key}}}`\n      subject = subject.replace(new RegExp(placeholder, \"g\"), String(value))\n      body = body.replace(new RegExp(placeholder, \"g\"), String(value))\n    })\n\n    // Send email (integrate with your email service)\n    // This would typically call an email service like SendGrid, Mailgun, etc.\n    // Silent logging - Sending email notification\n  }\n\n  // Batch operations for performance\n  async createBulkNotifications(\n    notifications: Array<Omit<Notification, \"id\" | \"created_at\" | \"updated_at\">>,\n  ): Promise<void> {\n    const { error } = await (supabase as any).from(\"notifications\").insert(\n      notifications.map((notification) => ({\n        ...notification,\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString(),\n      })) as any,\n    )\n\n    if (error) throw new Error(`Failed to create bulk notifications: ${error.message}`)\n  }\n\n  // Cleanup old notifications\n  async cleanupOldNotifications(userId: string, daysToKeep = 30): Promise<void> {\n    const cutoffDate = new Date()\n    cutoffDate.setDate(cutoffDate.getDate() - daysToKeep)\n\n    const { error } = await (supabase as any)\n      .from(\"notifications\")\n      .delete()\n      .eq(\"user_id\", userId)\n      .eq(\"read\", true)\n      .lt(\"created_at\", cutoffDate.toISOString())\n\n    if (error) throw new Error(`Failed to cleanup old notifications: ${error.message}`)\n  }\n}\n\nexport const notificationService = new NotificationService()\nexport default notificationService\n"],
      names: ["notificationService", "NotificationService", "getNotifications", "userId", "limit", "supabase", "Error", "data", "error", "from", "select", "eq", "order", "ascending", "message", "getUnreadCount", "count", "head", "markAsRead", "notificationId", "update", "read", "updated_at", "Date", "toISOString", "markAllAsRead", "deleteNotification", "delete", "createNotification", "notification", "insert", "created_at", "single", "getNotificationPreferences", "code", "updateNotificationPreferences", "preferences", "upsert", "user_id", "createTaskReminder", "taskId", "dueDate", "task_reminders", "reminderTime", "getTime", "reminder_timing", "type", "title", "priority", "action_url", "action_label", "metadata", "task_id", "scheduled_for", "createEventAlert", "eventId", "startDate", "event_alerts", "alertTime", "event_id", "createInvoiceDueAlert", "invoiceId", "clientName", "amount", "invoice_due_alerts", "isOverdue", "invoice_id", "client_name", "createLeadAssignmentAlert", "leadId", "leadName", "assignedBy", "lead_assignments", "lead_id", "assigned_by", "createMentionAlert", "mentionedBy", "context", "contextUrl", "mentioned_by", "subscribeToNotifications", "callback", "listeners", "push", "channel", "on", "event", "schema", "table", "filter", "notifications", "currentNotifications", "forEach", "listener", "subscribe", "unsubscribe", "l", "sendEmailNotification", "templateName", "variables", "email_notifications", "user", "email", "template", "subject", "body", "Object", "entries", "key", "value", "placeholder", "replace", "RegExp", "String", "createBulkNotifications", "map", "cleanupOldNotifications", "daysToKeep", "cutoffDate", "setDate", "getDate", "lt"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "071085e2c0ac7717365453487e060d828c2d2c72"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_2gqr7kvrmv = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_2gqr7kvrmv();
cov_2gqr7kvrmv().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_2gqr7kvrmv().f[0]++;
  cov_2gqr7kvrmv().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_2gqr7kvrmv().s[3]++;
_export(exports, {
  get default() {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[1]++;
    cov_2gqr7kvrmv().s[4]++;
    return _default;
  },
  get notificationService() {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[2]++;
    cov_2gqr7kvrmv().s[5]++;
    return notificationService;
  }
});
const _supabase =
/* istanbul ignore next */
(cov_2gqr7kvrmv().s[6]++, require("../lib/supabase"));
class NotificationService {
  // Notification CRUD operations
  async getNotifications(userId, limit =
  /* istanbul ignore next */
  (cov_2gqr7kvrmv().b[0][0]++, 50)) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[3]++;
    cov_2gqr7kvrmv().s[7]++;
    if (!_supabase.supabase) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[1][0]++;
      cov_2gqr7kvrmv().s[8]++;
      throw new Error('Supabase client is not initialized');
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[1][1]++;
    }
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[9]++, await _supabase.supabase.from("notifications").select("*").eq("user_id", userId).order("created_at", {
      ascending: false
    }).limit(limit));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[10]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[2][0]++;
      cov_2gqr7kvrmv().s[11]++;
      throw new Error(`Failed to fetch notifications: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[2][1]++;
    }
    cov_2gqr7kvrmv().s[12]++;
    return /* istanbul ignore next */(cov_2gqr7kvrmv().b[3][0]++, data) ||
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[3][1]++, []);
  }
  async getUnreadCount(userId) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[4]++;
    cov_2gqr7kvrmv().s[13]++;
    if (!_supabase.supabase) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[4][0]++;
      cov_2gqr7kvrmv().s[14]++;
      throw new Error('Supabase client is not initialized');
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[4][1]++;
    }
    const {
      count,
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[15]++, await _supabase.supabase.from("notifications").select("*", {
      count: "exact",
      head: true
    }).eq("user_id", userId).eq("read", false));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[16]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[5][0]++;
      cov_2gqr7kvrmv().s[17]++;
      throw new Error(`Failed to get unread count: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[5][1]++;
    }
    cov_2gqr7kvrmv().s[18]++;
    return /* istanbul ignore next */(cov_2gqr7kvrmv().b[6][0]++, count) ||
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[6][1]++, 0);
  }
  async markAsRead(notificationId) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[5]++;
    cov_2gqr7kvrmv().s[19]++;
    if (!_supabase.supabase) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[7][0]++;
      cov_2gqr7kvrmv().s[20]++;
      throw new Error('Supabase client is not initialized');
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[7][1]++;
    }
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[21]++, await _supabase.supabase.from("notifications").update({
      read: true,
      updated_at: new Date().toISOString()
    }).eq("id", notificationId));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[22]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[8][0]++;
      cov_2gqr7kvrmv().s[23]++;
      throw new Error(`Failed to mark notification as read: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[8][1]++;
    }
  }
  async markAllAsRead(userId) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[6]++;
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[24]++, await _supabase.supabase.from("notifications").update({
      read: true,
      updated_at: new Date().toISOString()
    }).eq("user_id", userId).eq("read", false));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[25]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[9][0]++;
      cov_2gqr7kvrmv().s[26]++;
      throw new Error(`Failed to mark all notifications as read: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[9][1]++;
    }
  }
  async deleteNotification(notificationId) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[7]++;
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[27]++, await _supabase.supabase.from("notifications").delete().eq("id", notificationId));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[28]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[10][0]++;
      cov_2gqr7kvrmv().s[29]++;
      throw new Error(`Failed to delete notification: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[10][1]++;
    }
  }
  async createNotification(notification) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[8]++;
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[30]++, await _supabase.supabase.from("notifications").insert({
      ...notification,
      created_at: new Date().toISOString(),
      updated_at: new Date().toISOString()
    }).select().single());
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[31]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[11][0]++;
      cov_2gqr7kvrmv().s[32]++;
      throw new Error(`Failed to create notification: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[11][1]++;
    }
    cov_2gqr7kvrmv().s[33]++;
    return data;
  }
  // Notification preferences
  async getNotificationPreferences(userId) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[9]++;
    cov_2gqr7kvrmv().s[34]++;
    if (!_supabase.supabase) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[12][0]++;
      cov_2gqr7kvrmv().s[35]++;
      throw new Error('Supabase client is not initialized');
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[12][1]++;
    }
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[36]++, await _supabase.supabase.from("notification_preferences").select("*").eq("user_id", userId).single());
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[37]++;
    if (
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[14][0]++, error) &&
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[14][1]++, error.code !== "PGRST116")) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[13][0]++;
      cov_2gqr7kvrmv().s[38]++;
      throw new Error(`Failed to fetch notification preferences: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[13][1]++;
    }
    cov_2gqr7kvrmv().s[39]++;
    return data;
  }
  async updateNotificationPreferences(userId, preferences) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[10]++;
    const {
      data,
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[40]++, await _supabase.supabase.from("notification_preferences").upsert({
      user_id: userId,
      ...preferences,
      updated_at: new Date().toISOString()
    }).select().single());
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[41]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[15][0]++;
      cov_2gqr7kvrmv().s[42]++;
      throw new Error(`Failed to update notification preferences: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[15][1]++;
    }
    cov_2gqr7kvrmv().s[43]++;
    return data;
  }
  // Smart notification creation based on events
  async createTaskReminder(taskId, userId, dueDate) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[11]++;
    const preferences =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[44]++, await this.getNotificationPreferences(userId));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[45]++;
    if (!preferences?.task_reminders) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[16][0]++;
      cov_2gqr7kvrmv().s[46]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[16][1]++;
    }
    const reminderTime =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[47]++, new Date(dueDate.getTime() - preferences.reminder_timing * 60 * 1000));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[48]++;
    await this.createNotification({
      user_id: userId,
      type: "task",
      title: "Task Due Soon",
      message: `Your task is due in ${preferences.reminder_timing} minutes`,
      priority: "medium",
      read: false,
      action_url: "/tasks",
      action_label: "View Task",
      metadata: {
        task_id: taskId
      },
      scheduled_for: reminderTime.toISOString()
    });
  }
  async createEventAlert(eventId, userId, startDate, title) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[12]++;
    const preferences =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[49]++, await this.getNotificationPreferences(userId));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[50]++;
    if (!preferences?.event_alerts) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[17][0]++;
      cov_2gqr7kvrmv().s[51]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[17][1]++;
    }
    const alertTime =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[52]++, new Date(startDate.getTime() - preferences.reminder_timing * 60 * 1000));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[53]++;
    await this.createNotification({
      user_id: userId,
      type: "event",
      title: "Upcoming Event",
      message: `"${title}" starts in ${preferences.reminder_timing} minutes`,
      priority: "high",
      read: false,
      action_url: "/calendar",
      action_label: "View Calendar",
      metadata: {
        event_id: eventId
      },
      scheduled_for: alertTime.toISOString()
    });
  }
  async createInvoiceDueAlert(invoiceId, userId, clientName, amount, dueDate) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[13]++;
    const preferences =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[54]++, await this.getNotificationPreferences(userId));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[55]++;
    if (!preferences?.invoice_due_alerts) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[18][0]++;
      cov_2gqr7kvrmv().s[56]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[18][1]++;
    }
    const isOverdue =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[57]++, dueDate < new Date());
    const priority =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[58]++, isOverdue ?
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[19][0]++, "urgent") :
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[19][1]++, "high"));
    const title =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[59]++, isOverdue ?
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[20][0]++, "Invoice Overdue") :
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[20][1]++, "Invoice Due Today"));
    const message =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[60]++, isOverdue ?
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[21][0]++, `Invoice for ${clientName} ($${amount}) is overdue`) :
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().b[21][1]++, `Invoice for ${clientName} ($${amount}) is due today`));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[61]++;
    await this.createNotification({
      user_id: userId,
      type: "invoice",
      title,
      message,
      priority,
      read: false,
      action_url: "/invoicing",
      action_label: "View Invoice",
      metadata: {
        invoice_id: invoiceId,
        client_name: clientName,
        amount
      }
    });
  }
  async createLeadAssignmentAlert(leadId, userId, leadName, assignedBy) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[14]++;
    const preferences =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[62]++, await this.getNotificationPreferences(userId));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[63]++;
    if (!preferences?.lead_assignments) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[22][0]++;
      cov_2gqr7kvrmv().s[64]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[22][1]++;
    }
    cov_2gqr7kvrmv().s[65]++;
    await this.createNotification({
      user_id: userId,
      type: "lead",
      title: "New Lead Assigned",
      message: `You have been assigned a new lead: ${leadName} by ${assignedBy}`,
      priority: "medium",
      read: false,
      action_url: "/clients",
      action_label: "View Lead",
      metadata: {
        lead_id: leadId,
        assigned_by: assignedBy
      }
    });
  }
  async createMentionAlert(userId, mentionedBy, context, contextUrl) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[15]++;
    cov_2gqr7kvrmv().s[66]++;
    await this.createNotification({
      user_id: userId,
      type: "mention",
      title: "You were mentioned",
      message: `${mentionedBy} mentioned you in ${context}`,
      priority: "medium",
      read: false,
      action_url: contextUrl,
      action_label: "View",
      metadata: {
        mentioned_by: mentionedBy,
        context
      }
    });
  }
  // Real-time subscription
  subscribeToNotifications(userId, callback) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[16]++;
    cov_2gqr7kvrmv().s[67]++;
    if (!_supabase.supabase) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[23][0]++;
      cov_2gqr7kvrmv().s[68]++;
      throw new Error('Supabase client is not initialized');
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[23][1]++;
    }
    cov_2gqr7kvrmv().s[69]++;
    this.listeners.push(callback);
    const channel =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[70]++, _supabase.supabase.channel(`notifications:${userId}`).on("postgres_changes", {
      event: "*",
      schema: "public",
      table: "notifications",
      filter: `user_id=eq.${userId}`
    }, async () => {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().f[17]++;
      // Fetch updated notifications
      const notifications =
      /* istanbul ignore next */
      (cov_2gqr7kvrmv().s[71]++, await this.getNotifications(userId));
      /* istanbul ignore next */
      cov_2gqr7kvrmv().s[72]++;
      this.currentNotifications = notifications;
      /* istanbul ignore next */
      cov_2gqr7kvrmv().s[73]++;
      this.listeners.forEach(listener => {
        /* istanbul ignore next */
        cov_2gqr7kvrmv().f[18]++;
        cov_2gqr7kvrmv().s[74]++;
        return listener(notifications);
      });
    }).subscribe());
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[75]++;
    return () => {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().f[19]++;
      cov_2gqr7kvrmv().s[76]++;
      channel.unsubscribe();
      /* istanbul ignore next */
      cov_2gqr7kvrmv().s[77]++;
      this.listeners = this.listeners.filter(l => {
        /* istanbul ignore next */
        cov_2gqr7kvrmv().f[20]++;
        cov_2gqr7kvrmv().s[78]++;
        return l !== callback;
      });
    };
  }
  // Email notification service
  async sendEmailNotification(userId, templateName, variables) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[21]++;
    const preferences =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[79]++, await this.getNotificationPreferences(userId));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[80]++;
    if (!preferences?.email_notifications) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[24][0]++;
      cov_2gqr7kvrmv().s[81]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[24][1]++;
    }
    // Get user email
    const {
      data: user
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[82]++, await _supabase.supabase.from("users").select("email").eq("id", userId).single());
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[83]++;
    if (!user?.email) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[25][0]++;
      cov_2gqr7kvrmv().s[84]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[25][1]++;
    }
    // Get email template
    const {
      data: template
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[85]++, await _supabase.supabase.from("notification_templates").select("*").eq("name", templateName).eq("active", true).single());
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[86]++;
    if (!template) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[26][0]++;
      cov_2gqr7kvrmv().s[87]++;
      return;
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[26][1]++;
    }
    // Replace variables in template
    let subject =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[88]++, template.subject);
    let body =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[89]++, template.body);
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[90]++;
    Object.entries(variables).forEach(([key, value]) => {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().f[22]++;
      const placeholder =
      /* istanbul ignore next */
      (cov_2gqr7kvrmv().s[91]++, `{{${key}}}`);
      /* istanbul ignore next */
      cov_2gqr7kvrmv().s[92]++;
      subject = subject.replace(new RegExp(placeholder, "g"), String(value));
      /* istanbul ignore next */
      cov_2gqr7kvrmv().s[93]++;
      body = body.replace(new RegExp(placeholder, "g"), String(value));
    });
    // Send email (integrate with your email service)
    // This would typically call an email service like SendGrid, Mailgun, etc.
    // Silent logging - Sending email notification
  }
  // Batch operations for performance
  async createBulkNotifications(notifications) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[23]++;
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[94]++, await _supabase.supabase.from("notifications").insert(notifications.map(notification => {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().f[24]++;
      cov_2gqr7kvrmv().s[95]++;
      return {
        ...notification,
        created_at: new Date().toISOString(),
        updated_at: new Date().toISOString()
      };
    })));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[96]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[27][0]++;
      cov_2gqr7kvrmv().s[97]++;
      throw new Error(`Failed to create bulk notifications: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[27][1]++;
    }
  }
  // Cleanup old notifications
  async cleanupOldNotifications(userId, daysToKeep =
  /* istanbul ignore next */
  (cov_2gqr7kvrmv().b[28][0]++, 30)) {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[25]++;
    const cutoffDate =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[98]++, new Date());
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[99]++;
    cutoffDate.setDate(cutoffDate.getDate() - daysToKeep);
    const {
      error
    } =
    /* istanbul ignore next */
    (cov_2gqr7kvrmv().s[100]++, await _supabase.supabase.from("notifications").delete().eq("user_id", userId).eq("read", true).lt("created_at", cutoffDate.toISOString()));
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[101]++;
    if (error) {
      /* istanbul ignore next */
      cov_2gqr7kvrmv().b[29][0]++;
      cov_2gqr7kvrmv().s[102]++;
      throw new Error(`Failed to cleanup old notifications: ${error.message}`);
    } else
    /* istanbul ignore next */
    {
      cov_2gqr7kvrmv().b[29][1]++;
    }
  }
  constructor() {
    /* istanbul ignore next */
    cov_2gqr7kvrmv().f[26]++;
    cov_2gqr7kvrmv().s[103]++;
    this.listeners = [];
    /* istanbul ignore next */
    cov_2gqr7kvrmv().s[104]++;
    this.currentNotifications = [];
  }
}
const notificationService =
/* istanbul ignore next */
(cov_2gqr7kvrmv().s[105]++, new NotificationService());
const _default =
/* istanbul ignore next */
(cov_2gqr7kvrmv().s[106]++, notificationService);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZWZhdWx0IiwiY292XzJncXI3a3ZybXYiLCJmIiwicyIsIl9kZWZhdWx0Iiwibm90aWZpY2F0aW9uU2VydmljZSIsIk5vdGlmaWNhdGlvblNlcnZpY2UiLCJnZXROb3RpZmljYXRpb25zIiwidXNlcklkIiwibGltaXQiLCJiIiwiX3N1cGFiYXNlIiwic3VwYWJhc2UiLCJFcnJvciIsImRhdGEiLCJlcnJvciIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibWVzc2FnZSIsImdldFVucmVhZENvdW50IiwiY291bnQiLCJoZWFkIiwibWFya0FzUmVhZCIsIm5vdGlmaWNhdGlvbklkIiwidXBkYXRlIiwicmVhZCIsInVwZGF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJtYXJrQWxsQXNSZWFkIiwiZGVsZXRlTm90aWZpY2F0aW9uIiwiZGVsZXRlIiwiY3JlYXRlTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiaW5zZXJ0IiwiY3JlYXRlZF9hdCIsInNpbmdsZSIsImdldE5vdGlmaWNhdGlvblByZWZlcmVuY2VzIiwiY29kZSIsInVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzIiwicHJlZmVyZW5jZXMiLCJ1cHNlcnQiLCJ1c2VyX2lkIiwiY3JlYXRlVGFza1JlbWluZGVyIiwidGFza0lkIiwiZHVlRGF0ZSIsInRhc2tfcmVtaW5kZXJzIiwicmVtaW5kZXJUaW1lIiwiZ2V0VGltZSIsInJlbWluZGVyX3RpbWluZyIsInR5cGUiLCJ0aXRsZSIsInByaW9yaXR5IiwiYWN0aW9uX3VybCIsImFjdGlvbl9sYWJlbCIsIm1ldGFkYXRhIiwidGFza19pZCIsInNjaGVkdWxlZF9mb3IiLCJjcmVhdGVFdmVudEFsZXJ0IiwiZXZlbnRJZCIsInN0YXJ0RGF0ZSIsImV2ZW50X2FsZXJ0cyIsImFsZXJ0VGltZSIsImV2ZW50X2lkIiwiY3JlYXRlSW52b2ljZUR1ZUFsZXJ0IiwiaW52b2ljZUlkIiwiY2xpZW50TmFtZSIsImFtb3VudCIsImludm9pY2VfZHVlX2FsZXJ0cyIsImlzT3ZlcmR1ZSIsImludm9pY2VfaWQiLCJjbGllbnRfbmFtZSIsImNyZWF0ZUxlYWRBc3NpZ25tZW50QWxlcnQiLCJsZWFkSWQiLCJsZWFkTmFtZSIsImFzc2lnbmVkQnkiLCJsZWFkX2Fzc2lnbm1lbnRzIiwibGVhZF9pZCIsImFzc2lnbmVkX2J5IiwiY3JlYXRlTWVudGlvbkFsZXJ0IiwibWVudGlvbmVkQnkiLCJjb250ZXh0IiwiY29udGV4dFVybCIsIm1lbnRpb25lZF9ieSIsInN1YnNjcmliZVRvTm90aWZpY2F0aW9ucyIsImNhbGxiYWNrIiwibGlzdGVuZXJzIiwicHVzaCIsImNoYW5uZWwiLCJvbiIsImV2ZW50Iiwic2NoZW1hIiwidGFibGUiLCJmaWx0ZXIiLCJub3RpZmljYXRpb25zIiwiY3VycmVudE5vdGlmaWNhdGlvbnMiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJzdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsImwiLCJzZW5kRW1haWxOb3RpZmljYXRpb24iLCJ0ZW1wbGF0ZU5hbWUiLCJ2YXJpYWJsZXMiLCJlbWFpbF9ub3RpZmljYXRpb25zIiwidXNlciIsImVtYWlsIiwidGVtcGxhdGUiLCJzdWJqZWN0IiwiYm9keSIsIk9iamVjdCIsImVudHJpZXMiLCJrZXkiLCJ2YWx1ZSIsInBsYWNlaG9sZGVyIiwicmVwbGFjZSIsIlJlZ0V4cCIsIlN0cmluZyIsImNyZWF0ZUJ1bGtOb3RpZmljYXRpb25zIiwibWFwIiwiY2xlYW51cE9sZE5vdGlmaWNhdGlvbnMiLCJkYXlzVG9LZWVwIiwiY3V0b2ZmRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwibHQiXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXGNoYXNlXFxEb3dubG9hZHNcXGNybSAoMzIpXFxzcmNcXHNlcnZpY2VzXFxub3RpZmljYXRpb25TZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSBcIi4uL2xpYi9zdXBhYmFzZVwiXG5pbXBvcnQgdHlwZSB7IERhdGFiYXNlIH0gZnJvbSBcIi4uL2xpYi9zdXBhYmFzZVwiXG5cbnR5cGUgVGFibGVzPFQgZXh0ZW5kcyBrZXlvZiBEYXRhYmFzZVtcInB1YmxpY1wiXVtcIlRhYmxlc1wiXT4gPSBEYXRhYmFzZVtcInB1YmxpY1wiXVtcIlRhYmxlc1wiXVtUXVtcIlJvd1wiXVxudHlwZSBJbnNlcnRzPFQgZXh0ZW5kcyBrZXlvZiBEYXRhYmFzZVtcInB1YmxpY1wiXVtcIlRhYmxlc1wiXT4gPSBEYXRhYmFzZVtcInB1YmxpY1wiXVtcIlRhYmxlc1wiXVtUXVtcIkluc2VydFwiXVxudHlwZSBVcGRhdGVzPFQgZXh0ZW5kcyBrZXlvZiBEYXRhYmFzZVtcInB1YmxpY1wiXVtcIlRhYmxlc1wiXT4gPSBEYXRhYmFzZVtcInB1YmxpY1wiXVtcIlRhYmxlc1wiXVtUXVtcIlVwZGF0ZVwiXVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvblByZWZlcmVuY2VzIHtcbiAgaWQ6IHN0cmluZ1xuICB1c2VyX2lkOiBzdHJpbmdcbiAgZW1haWxfbm90aWZpY2F0aW9uczogYm9vbGVhblxuICBwdXNoX25vdGlmaWNhdGlvbnM6IGJvb2xlYW5cbiAgaW5fYXBwX25vdGlmaWNhdGlvbnM6IGJvb2xlYW5cbiAgdGFza19yZW1pbmRlcnM6IGJvb2xlYW5cbiAgZXZlbnRfYWxlcnRzOiBib29sZWFuXG4gIGxlYWRfYXNzaWdubWVudHM6IGJvb2xlYW5cbiAgaW52b2ljZV9kdWVfYWxlcnRzOiBib29sZWFuXG4gIHN5c3RlbV91cGRhdGVzOiBib29sZWFuXG4gIG1hcmtldGluZ19lbWFpbHM6IGJvb2xlYW5cbiAgcmVtaW5kZXJfdGltaW5nOiBudW1iZXIgLy8gbWludXRlcyBiZWZvcmUgZXZlbnRcbiAgcXVpZXRfaG91cnNfc3RhcnQ6IHN0cmluZyAvLyBISDpNTSBmb3JtYXRcbiAgcXVpZXRfaG91cnNfZW5kOiBzdHJpbmcgLy8gSEg6TU0gZm9ybWF0XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOb3RpZmljYXRpb24ge1xuICBpZDogc3RyaW5nXG4gIHVzZXJfaWQ6IHN0cmluZ1xuICB0eXBlOiBcInRhc2tcIiB8IFwiZXZlbnRcIiB8IFwiaW52b2ljZVwiIHwgXCJsZWFkXCIgfCBcInN5c3RlbVwiIHwgXCJtZW50aW9uXCJcbiAgdGl0bGU6IHN0cmluZ1xuICBtZXNzYWdlOiBzdHJpbmdcbiAgcHJpb3JpdHk6IFwibG93XCIgfCBcIm1lZGl1bVwiIHwgXCJoaWdoXCIgfCBcInVyZ2VudFwiXG4gIHJlYWQ6IGJvb2xlYW5cbiAgYWN0aW9uX3VybD86IHN0cmluZ1xuICBhY3Rpb25fbGFiZWw/OiBzdHJpbmdcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4gIHNjaGVkdWxlZF9mb3I/OiBzdHJpbmdcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvblRlbXBsYXRlIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgdHlwZTogc3RyaW5nXG4gIHN1YmplY3Q6IHN0cmluZ1xuICBib2R5OiBzdHJpbmdcbiAgdmFyaWFibGVzOiBzdHJpbmdbXVxuICBhY3RpdmU6IGJvb2xlYW5cbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xufVxuXG5jbGFzcyBOb3RpZmljYXRpb25TZXJ2aWNlIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IEFycmF5PChub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXSkgPT4gdm9pZD4gPSBbXVxuICBwcml2YXRlIGN1cnJlbnROb3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXSA9IFtdXG5cbiAgLy8gTm90aWZpY2F0aW9uIENSVUQgb3BlcmF0aW9uc1xuICBhc3luYyBnZXROb3RpZmljYXRpb25zKHVzZXJJZDogc3RyaW5nLCBsaW1pdCA9IDUwKTogUHJvbWlzZTxOb3RpZmljYXRpb25bXT4ge1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJub3RpZmljYXRpb25zXCIpXG4gICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgLmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG4gICAgICAub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgLmxpbWl0KGxpbWl0KVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBub3RpZmljYXRpb25zOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICByZXR1cm4gZGF0YSB8fCBbXVxuICB9XG5cbiAgYXN5bmMgZ2V0VW5yZWFkQ291bnQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPG51bWJlcj4ge1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGNvdW50LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcIipcIiwgeyBjb3VudDogXCJleGFjdFwiLCBoZWFkOiB0cnVlIH0pXG4gICAgICAuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcbiAgICAgIC5lcShcInJlYWRcIiwgZmFsc2UpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGdldCB1bnJlYWQgY291bnQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICAgIHJldHVybiBjb3VudCB8fCAwXG4gIH1cblxuICBhc3luYyBtYXJrQXNSZWFkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgKHN1cGFiYXNlIGFzIGFueSlcbiAgICAgIC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7IHJlYWQ6IHRydWUsIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9IGFzIGFueSlcbiAgICAgIC5lcShcImlkXCIsIG5vdGlmaWNhdGlvbklkKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBtYXJrIG5vdGlmaWNhdGlvbiBhcyByZWFkOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgfVxuXG4gIGFzeW5jIG1hcmtBbGxBc1JlYWQodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KVxuICAgICAgLmZyb20oXCJub3RpZmljYXRpb25zXCIpXG4gICAgICAudXBkYXRlKHsgcmVhZDogdHJ1ZSwgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0gYXMgYW55KVxuICAgICAgLmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG4gICAgICAuZXEoXCJyZWFkXCIsIGZhbHNlKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBtYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQ6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KS5mcm9tKFwibm90aWZpY2F0aW9uc1wiKS5kZWxldGUoKS5lcShcImlkXCIsIG5vdGlmaWNhdGlvbklkKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgbm90aWZpY2F0aW9uOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZU5vdGlmaWNhdGlvbihcbiAgICBub3RpZmljYXRpb246IE9taXQ8Tm90aWZpY2F0aW9uLCBcImlkXCIgfCBcImNyZWF0ZWRfYXRcIiB8IFwidXBkYXRlZF9hdFwiPixcbiAgKTogUHJvbWlzZTxOb3RpZmljYXRpb24+IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KVxuICAgICAgLmZyb20oXCJub3RpZmljYXRpb25zXCIpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgLi4ubm90aWZpY2F0aW9uLFxuICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIH0gYXMgYW55KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIG5vdGlmaWNhdGlvbjogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIC8vIE5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICBhc3luYyBnZXROb3RpZmljYXRpb25QcmVmZXJlbmNlcyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8Tm90aWZpY2F0aW9uUHJlZmVyZW5jZXMgfCBudWxsPiB7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBjbGllbnQgaXMgbm90IGluaXRpYWxpemVkJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJub3RpZmljYXRpb25fcHJlZmVyZW5jZXNcIikuc2VsZWN0KFwiKlwiKS5lcShcInVzZXJfaWRcIiwgdXNlcklkKS5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgIT09IFwiUEdSU1QxMTZcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICB9XG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIGFzeW5jIHVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzKFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIHByZWZlcmVuY2VzOiBQYXJ0aWFsPE9taXQ8Tm90aWZpY2F0aW9uUHJlZmVyZW5jZXMsIFwiaWRcIiB8IFwidXNlcl9pZFwiIHwgXCJjcmVhdGVkX2F0XCIgfCBcInVwZGF0ZWRfYXRcIj4+LFxuICApOiBQcm9taXNlPE5vdGlmaWNhdGlvblByZWZlcmVuY2VzPiB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgKHN1cGFiYXNlIGFzIGFueSlcbiAgICAgIC5mcm9tKFwibm90aWZpY2F0aW9uX3ByZWZlcmVuY2VzXCIpXG4gICAgICAudXBzZXJ0KHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAuLi5wcmVmZXJlbmNlcyxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSBhcyBhbnkpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzOiAke2Vycm9yLm1lc3NhZ2V9YClcbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgLy8gU21hcnQgbm90aWZpY2F0aW9uIGNyZWF0aW9uIGJhc2VkIG9uIGV2ZW50c1xuICBhc3luYyBjcmVhdGVUYXNrUmVtaW5kZXIodGFza0lkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBkdWVEYXRlOiBEYXRlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSBhd2FpdCB0aGlzLmdldE5vdGlmaWNhdGlvblByZWZlcmVuY2VzKHVzZXJJZClcbiAgICBpZiAoIXByZWZlcmVuY2VzPy50YXNrX3JlbWluZGVycykgcmV0dXJuXG5cbiAgICBjb25zdCByZW1pbmRlclRpbWUgPSBuZXcgRGF0ZShkdWVEYXRlLmdldFRpbWUoKSAtIHByZWZlcmVuY2VzLnJlbWluZGVyX3RpbWluZyAqIDYwICogMTAwMClcblxuICAgIGF3YWl0IHRoaXMuY3JlYXRlTm90aWZpY2F0aW9uKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIHR5cGU6IFwidGFza1wiLFxuICAgICAgdGl0bGU6IFwiVGFzayBEdWUgU29vblwiLFxuICAgICAgbWVzc2FnZTogYFlvdXIgdGFzayBpcyBkdWUgaW4gJHtwcmVmZXJlbmNlcy5yZW1pbmRlcl90aW1pbmd9IG1pbnV0ZXNgLFxuICAgICAgcHJpb3JpdHk6IFwibWVkaXVtXCIsXG4gICAgICByZWFkOiBmYWxzZSxcbiAgICAgIGFjdGlvbl91cmw6IFwiL3Rhc2tzXCIsXG4gICAgICBhY3Rpb25fbGFiZWw6IFwiVmlldyBUYXNrXCIsXG4gICAgICBtZXRhZGF0YTogeyB0YXNrX2lkOiB0YXNrSWQgfSxcbiAgICAgIHNjaGVkdWxlZF9mb3I6IHJlbWluZGVyVGltZS50b0lTT1N0cmluZygpLFxuICAgIH0pXG4gIH1cblxuICBhc3luYyBjcmVhdGVFdmVudEFsZXJ0KGV2ZW50SWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcsIHN0YXJ0RGF0ZTogRGF0ZSwgdGl0bGU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHByZWZlcmVuY2VzID0gYXdhaXQgdGhpcy5nZXROb3RpZmljYXRpb25QcmVmZXJlbmNlcyh1c2VySWQpXG4gICAgaWYgKCFwcmVmZXJlbmNlcz8uZXZlbnRfYWxlcnRzKSByZXR1cm5cblxuICAgIGNvbnN0IGFsZXJ0VGltZSA9IG5ldyBEYXRlKHN0YXJ0RGF0ZS5nZXRUaW1lKCkgLSBwcmVmZXJlbmNlcy5yZW1pbmRlcl90aW1pbmcgKiA2MCAqIDEwMDApXG5cbiAgICBhd2FpdCB0aGlzLmNyZWF0ZU5vdGlmaWNhdGlvbih7XG4gICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICB0eXBlOiBcImV2ZW50XCIsXG4gICAgICB0aXRsZTogXCJVcGNvbWluZyBFdmVudFwiLFxuICAgICAgbWVzc2FnZTogYFwiJHt0aXRsZX1cIiBzdGFydHMgaW4gJHtwcmVmZXJlbmNlcy5yZW1pbmRlcl90aW1pbmd9IG1pbnV0ZXNgLFxuICAgICAgcHJpb3JpdHk6IFwiaGlnaFwiLFxuICAgICAgcmVhZDogZmFsc2UsXG4gICAgICBhY3Rpb25fdXJsOiBcIi9jYWxlbmRhclwiLFxuICAgICAgYWN0aW9uX2xhYmVsOiBcIlZpZXcgQ2FsZW5kYXJcIixcbiAgICAgIG1ldGFkYXRhOiB7IGV2ZW50X2lkOiBldmVudElkIH0sXG4gICAgICBzY2hlZHVsZWRfZm9yOiBhbGVydFRpbWUudG9JU09TdHJpbmcoKSxcbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgY3JlYXRlSW52b2ljZUR1ZUFsZXJ0KFxuICAgIGludm9pY2VJZDogc3RyaW5nLFxuICAgIHVzZXJJZDogc3RyaW5nLFxuICAgIGNsaWVudE5hbWU6IHN0cmluZyxcbiAgICBhbW91bnQ6IG51bWJlcixcbiAgICBkdWVEYXRlOiBEYXRlLFxuICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwcmVmZXJlbmNlcyA9IGF3YWl0IHRoaXMuZ2V0Tm90aWZpY2F0aW9uUHJlZmVyZW5jZXModXNlcklkKVxuICAgIGlmICghcHJlZmVyZW5jZXM/Lmludm9pY2VfZHVlX2FsZXJ0cykgcmV0dXJuXG5cbiAgICBjb25zdCBpc092ZXJkdWUgPSBkdWVEYXRlIDwgbmV3IERhdGUoKVxuICAgIGNvbnN0IHByaW9yaXR5ID0gaXNPdmVyZHVlID8gXCJ1cmdlbnRcIiA6IFwiaGlnaFwiXG4gICAgY29uc3QgdGl0bGUgPSBpc092ZXJkdWUgPyBcIkludm9pY2UgT3ZlcmR1ZVwiIDogXCJJbnZvaWNlIER1ZSBUb2RheVwiXG4gICAgY29uc3QgbWVzc2FnZSA9IGlzT3ZlcmR1ZVxuICAgICAgPyBgSW52b2ljZSBmb3IgJHtjbGllbnROYW1lfSAoJCR7YW1vdW50fSkgaXMgb3ZlcmR1ZWBcbiAgICAgIDogYEludm9pY2UgZm9yICR7Y2xpZW50TmFtZX0gKCQke2Ftb3VudH0pIGlzIGR1ZSB0b2RheWBcblxuICAgIGF3YWl0IHRoaXMuY3JlYXRlTm90aWZpY2F0aW9uKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIHR5cGU6IFwiaW52b2ljZVwiLFxuICAgICAgdGl0bGUsXG4gICAgICBtZXNzYWdlLFxuICAgICAgcHJpb3JpdHksXG4gICAgICByZWFkOiBmYWxzZSxcbiAgICAgIGFjdGlvbl91cmw6IFwiL2ludm9pY2luZ1wiLFxuICAgICAgYWN0aW9uX2xhYmVsOiBcIlZpZXcgSW52b2ljZVwiLFxuICAgICAgbWV0YWRhdGE6IHsgaW52b2ljZV9pZDogaW52b2ljZUlkLCBjbGllbnRfbmFtZTogY2xpZW50TmFtZSwgYW1vdW50IH0sXG4gICAgfSlcbiAgfVxuXG4gIGFzeW5jIGNyZWF0ZUxlYWRBc3NpZ25tZW50QWxlcnQobGVhZElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nLCBsZWFkTmFtZTogc3RyaW5nLCBhc3NpZ25lZEJ5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBwcmVmZXJlbmNlcyA9IGF3YWl0IHRoaXMuZ2V0Tm90aWZpY2F0aW9uUHJlZmVyZW5jZXModXNlcklkKVxuICAgIGlmICghcHJlZmVyZW5jZXM/LmxlYWRfYXNzaWdubWVudHMpIHJldHVyblxuXG4gICAgYXdhaXQgdGhpcy5jcmVhdGVOb3RpZmljYXRpb24oe1xuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgdHlwZTogXCJsZWFkXCIsXG4gICAgICB0aXRsZTogXCJOZXcgTGVhZCBBc3NpZ25lZFwiLFxuICAgICAgbWVzc2FnZTogYFlvdSBoYXZlIGJlZW4gYXNzaWduZWQgYSBuZXcgbGVhZDogJHtsZWFkTmFtZX0gYnkgJHthc3NpZ25lZEJ5fWAsXG4gICAgICBwcmlvcml0eTogXCJtZWRpdW1cIixcbiAgICAgIHJlYWQ6IGZhbHNlLFxuICAgICAgYWN0aW9uX3VybDogXCIvY2xpZW50c1wiLFxuICAgICAgYWN0aW9uX2xhYmVsOiBcIlZpZXcgTGVhZFwiLFxuICAgICAgbWV0YWRhdGE6IHsgbGVhZF9pZDogbGVhZElkLCBhc3NpZ25lZF9ieTogYXNzaWduZWRCeSB9LFxuICAgIH0pXG4gIH1cblxuICBhc3luYyBjcmVhdGVNZW50aW9uQWxlcnQodXNlcklkOiBzdHJpbmcsIG1lbnRpb25lZEJ5OiBzdHJpbmcsIGNvbnRleHQ6IHN0cmluZywgY29udGV4dFVybDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5jcmVhdGVOb3RpZmljYXRpb24oe1xuICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgdHlwZTogXCJtZW50aW9uXCIsXG4gICAgICB0aXRsZTogXCJZb3Ugd2VyZSBtZW50aW9uZWRcIixcbiAgICAgIG1lc3NhZ2U6IGAke21lbnRpb25lZEJ5fSBtZW50aW9uZWQgeW91IGluICR7Y29udGV4dH1gLFxuICAgICAgcHJpb3JpdHk6IFwibWVkaXVtXCIsXG4gICAgICByZWFkOiBmYWxzZSxcbiAgICAgIGFjdGlvbl91cmw6IGNvbnRleHRVcmwsXG4gICAgICBhY3Rpb25fbGFiZWw6IFwiVmlld1wiLFxuICAgICAgbWV0YWRhdGE6IHsgbWVudGlvbmVkX2J5OiBtZW50aW9uZWRCeSwgY29udGV4dCB9LFxuICAgIH0pXG4gIH1cblxuICAvLyBSZWFsLXRpbWUgc3Vic2NyaXB0aW9uXG4gIHN1YnNjcmliZVRvTm90aWZpY2F0aW9ucyh1c2VySWQ6IHN0cmluZywgY2FsbGJhY2s6IChub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXSkgPT4gdm9pZCkge1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZCcpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKVxuXG4gICAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlXG4gICAgICAuY2hhbm5lbChgbm90aWZpY2F0aW9uczoke3VzZXJJZH1gKVxuICAgICAgLm9uKFxuICAgICAgICBcInBvc3RncmVzX2NoYW5nZXNcIixcbiAgICAgICAge1xuICAgICAgICAgIGV2ZW50OiBcIipcIixcbiAgICAgICAgICBzY2hlbWE6IFwicHVibGljXCIsXG4gICAgICAgICAgdGFibGU6IFwibm90aWZpY2F0aW9uc1wiLFxuICAgICAgICAgIGZpbHRlcjogYHVzZXJfaWQ9ZXEuJHt1c2VySWR9YCxcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIC8vIEZldGNoIHVwZGF0ZWQgbm90aWZpY2F0aW9uc1xuICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSBhd2FpdCB0aGlzLmdldE5vdGlmaWNhdGlvbnModXNlcklkKVxuICAgICAgICAgIHRoaXMuY3VycmVudE5vdGlmaWNhdGlvbnMgPSBub3RpZmljYXRpb25zXG4gICAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IGxpc3RlbmVyKG5vdGlmaWNhdGlvbnMpKVxuICAgICAgICB9LFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgpXG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2hhbm5lbC51bnN1YnNjcmliZSgpXG4gICAgICB0aGlzLmxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzLmZpbHRlcigobCkgPT4gbCAhPT0gY2FsbGJhY2spXG4gICAgfVxuICB9XG5cbiAgLy8gRW1haWwgbm90aWZpY2F0aW9uIHNlcnZpY2VcbiAgYXN5bmMgc2VuZEVtYWlsTm90aWZpY2F0aW9uKHVzZXJJZDogc3RyaW5nLCB0ZW1wbGF0ZU5hbWU6IHN0cmluZywgdmFyaWFibGVzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSBhd2FpdCB0aGlzLmdldE5vdGlmaWNhdGlvblByZWZlcmVuY2VzKHVzZXJJZClcbiAgICBpZiAoIXByZWZlcmVuY2VzPy5lbWFpbF9ub3RpZmljYXRpb25zKSByZXR1cm5cblxuICAgIC8vIEdldCB1c2VyIGVtYWlsXG4gICAgY29uc3QgeyBkYXRhOiB1c2VyIH0gPSBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KS5mcm9tKFwidXNlcnNcIikuc2VsZWN0KFwiZW1haWxcIikuZXEoXCJpZFwiLCB1c2VySWQpLnNpbmdsZSgpXG5cbiAgICBpZiAoIXVzZXI/LmVtYWlsKSByZXR1cm5cblxuICAgIC8vIEdldCBlbWFpbCB0ZW1wbGF0ZVxuICAgIGNvbnN0IHsgZGF0YTogdGVtcGxhdGUgfSA9IGF3YWl0IChzdXBhYmFzZSBhcyBhbnkpXG4gICAgICAuZnJvbShcIm5vdGlmaWNhdGlvbl90ZW1wbGF0ZXNcIilcbiAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAuZXEoXCJuYW1lXCIsIHRlbXBsYXRlTmFtZSlcbiAgICAgIC5lcShcImFjdGl2ZVwiLCB0cnVlKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoIXRlbXBsYXRlKSByZXR1cm5cblxuICAgIC8vIFJlcGxhY2UgdmFyaWFibGVzIGluIHRlbXBsYXRlXG4gICAgbGV0IHN1YmplY3QgPSAodGVtcGxhdGUgYXMgYW55KS5zdWJqZWN0XG4gICAgbGV0IGJvZHkgPSAodGVtcGxhdGUgYXMgYW55KS5ib2R5XG5cbiAgICBPYmplY3QuZW50cmllcyh2YXJpYWJsZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBge3ske2tleX19fWBcbiAgICAgIHN1YmplY3QgPSBzdWJqZWN0LnJlcGxhY2UobmV3IFJlZ0V4cChwbGFjZWhvbGRlciwgXCJnXCIpLCBTdHJpbmcodmFsdWUpKVxuICAgICAgYm9keSA9IGJvZHkucmVwbGFjZShuZXcgUmVnRXhwKHBsYWNlaG9sZGVyLCBcImdcIiksIFN0cmluZyh2YWx1ZSkpXG4gICAgfSlcblxuICAgIC8vIFNlbmQgZW1haWwgKGludGVncmF0ZSB3aXRoIHlvdXIgZW1haWwgc2VydmljZSlcbiAgICAvLyBUaGlzIHdvdWxkIHR5cGljYWxseSBjYWxsIGFuIGVtYWlsIHNlcnZpY2UgbGlrZSBTZW5kR3JpZCwgTWFpbGd1biwgZXRjLlxuICAgIC8vIFNpbGVudCBsb2dnaW5nIC0gU2VuZGluZyBlbWFpbCBub3RpZmljYXRpb25cbiAgfVxuXG4gIC8vIEJhdGNoIG9wZXJhdGlvbnMgZm9yIHBlcmZvcm1hbmNlXG4gIGFzeW5jIGNyZWF0ZUJ1bGtOb3RpZmljYXRpb25zKFxuICAgIG5vdGlmaWNhdGlvbnM6IEFycmF5PE9taXQ8Tm90aWZpY2F0aW9uLCBcImlkXCIgfCBcImNyZWF0ZWRfYXRcIiB8IFwidXBkYXRlZF9hdFwiPj4sXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IChzdXBhYmFzZSBhcyBhbnkpLmZyb20oXCJub3RpZmljYXRpb25zXCIpLmluc2VydChcbiAgICAgIG5vdGlmaWNhdGlvbnMubWFwKChub3RpZmljYXRpb24pID0+ICh7XG4gICAgICAgIC4uLm5vdGlmaWNhdGlvbixcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KSkgYXMgYW55LFxuICAgIClcblxuICAgIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gY3JlYXRlIGJ1bGsgbm90aWZpY2F0aW9uczogJHtlcnJvci5tZXNzYWdlfWApXG4gIH1cblxuICAvLyBDbGVhbnVwIG9sZCBub3RpZmljYXRpb25zXG4gIGFzeW5jIGNsZWFudXBPbGROb3RpZmljYXRpb25zKHVzZXJJZDogc3RyaW5nLCBkYXlzVG9LZWVwID0gMzApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBjdXRvZmZEYXRlID0gbmV3IERhdGUoKVxuICAgIGN1dG9mZkRhdGUuc2V0RGF0ZShjdXRvZmZEYXRlLmdldERhdGUoKSAtIGRheXNUb0tlZXApXG5cbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCAoc3VwYWJhc2UgYXMgYW55KVxuICAgICAgLmZyb20oXCJub3RpZmljYXRpb25zXCIpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuICAgICAgLmVxKFwicmVhZFwiLCB0cnVlKVxuICAgICAgLmx0KFwiY3JlYXRlZF9hdFwiLCBjdXRvZmZEYXRlLnRvSVNPU3RyaW5nKCkpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNsZWFudXAgb2xkIG5vdGlmaWNhdGlvbnM6ICR7ZXJyb3IubWVzc2FnZX1gKVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBub3RpZmljYXRpb25TZXJ2aWNlID0gbmV3IE5vdGlmaWNhdGlvblNlcnZpY2UoKVxuZXhwb3J0IGRlZmF1bHQgbm90aWZpY2F0aW9uU2VydmljZVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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