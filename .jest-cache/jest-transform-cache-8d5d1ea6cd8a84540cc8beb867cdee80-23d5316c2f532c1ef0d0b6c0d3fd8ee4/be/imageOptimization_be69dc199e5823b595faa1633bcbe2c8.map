{"version":3,"names":["cov_1cbujsbxcf","actualCoverage","s","ImageOptimizer","f","clearImageCache","extractDominantColor","generateBlurPlaceholder","generateResponsiveImages","getImageCacheStats","getImageMetadata","imageOptimizer","lazyLoadImage","loadProgressively","optimizeImage","preloadImage","constructor","canvas","ctx","supportedFormats","Set","imageCache","Map","intersectionObserver","loadingImages","init","window","b","document","createElement","getContext","detectSupportedFormats","initIntersectionObserver","formats","format","dataURL","img","Image","supported","Promise","resolve","onload","width","height","onerror","src","add","IntersectionObserver","entries","forEach","entry","isIntersecting","target","loadImage","unobserve","rootMargin","threshold","generateOptimizedUrl","options","quality","fit","params","URLSearchParams","set","toString","bestFormat","getBestFormat","encodeURIComponent","generateResponsiveImageSet","breakpoints","srcSet","map","url","join","sizes","fallbackSrc","requestedFormat","has","generateSvgPlaceholder","crossOrigin","reject","drawImage","toDataURL","color","svg","btoa","r","g","getImageData","data","get","metadata","naturalWidth","naturalHeight","getImageFormat","size","aspectRatio","dominantColor","blurDataURL","error","Error","extension","split","pop","toLowerCase","lazyLoad","observe","dataset","newImg","classList","delete","responsive","srcset","placeholderSrc","Math","min","style","filter","fullSrc","fullImg","transition","console","clearCache","clear","getCacheStats","cachedImages","Array","from"],"sources":["C:\\Users\\chase\\Downloads\\crm (32)\\src\\utils\\imageOptimization.ts"],"sourcesContent":["// Advanced image optimization utilities\n\ninterface ImageOptimizationOptions {\n  quality?: number;\n  format?: 'webp' | 'avif' | 'jpeg' | 'png' | 'auto';\n  width?: number;\n  height?: number;\n  fit?: 'cover' | 'contain' | 'fill' | 'inside' | 'outside';\n  blur?: number;\n  progressive?: boolean;\n  lossless?: boolean;\n  priority?: boolean;\n  placeholder?: 'blur' | 'empty' | 'data:image/svg+xml';\n  sizes?: string;\n  loading?: 'lazy' | 'eager';\n}\n\ninterface ImageMetadata {\n  src: string;\n  width: number;\n  height: number;\n  format: string;\n  size: number;\n  aspectRatio: number;\n  dominantColor?: string;\n  blurDataURL?: string;\n}\n\ninterface ResponsiveImageSet {\n  srcSet: string;\n  sizes: string;\n  src: string;\n  placeholder?: string;\n}\n\nclass ImageOptimizer {\n  private canvas: HTMLCanvasElement | null = null;\n  private ctx: CanvasRenderingContext2D | null = null;\n  private supportedFormats: Set<string> = new Set();\n  private imageCache: Map<string, ImageMetadata> = new Map();\n  private intersectionObserver: IntersectionObserver | null = null;\n  private loadingImages: Set<string> = new Set();\n\n  constructor() {\n    this.init();\n  }\n\n  private async init() {\n    // Create canvas for image processing\n    if (typeof window !== 'undefined') {\n      this.canvas = document.createElement('canvas');\n      this.ctx = this.canvas.getContext('2d');\n      \n      // Detect supported formats\n      await this.detectSupportedFormats();\n      \n      // Initialize intersection observer for lazy loading\n      this.initIntersectionObserver();\n    }\n  }\n\n  private async detectSupportedFormats() {\n    const formats = [\n      { format: 'webp', dataURL: 'data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA' },\n      { format: 'avif', dataURL: 'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgABogQEAwgMg8f8D///8WfhwB8+ErK42A=' }\n    ];\n\n    for (const { format, dataURL } of formats) {\n      try {\n        const img = new Image();\n        const supported = await new Promise<boolean>((resolve) => {\n          img.onload = () => resolve(img.width > 0 && img.height > 0);\n          img.onerror = () => resolve(false);\n          img.src = dataURL;\n        });\n        \n        if (supported) {\n          this.supportedFormats.add(format);\n        }\n      } catch {\n        // Format not supported\n      }\n    }\n  }\n\n  private initIntersectionObserver() {\n    if (typeof window !== 'undefined' && 'IntersectionObserver' in window) {\n      this.intersectionObserver = new IntersectionObserver(\n        (entries) => {\n          entries.forEach((entry) => {\n            if (entry.isIntersecting) {\n              const img = entry.target as HTMLImageElement;\n              this.loadImage(img);\n              this.intersectionObserver?.unobserve(img);\n            }\n          });\n        },\n        {\n          rootMargin: '50px 0px',\n          threshold: 0.01\n        }\n      );\n    }\n  }\n\n  // Generate optimized image URL\n  generateOptimizedUrl(src: string, options: ImageOptimizationOptions = {}): string {\n    const {\n      quality = 80,\n      format = 'auto',\n      width,\n      height,\n      fit = 'cover'\n    } = options;\n\n    // For Next.js Image Optimization API\n    const params = new URLSearchParams();\n    \n    if (width) params.set('w', width.toString());\n    if (height) params.set('h', height.toString());\n    params.set('q', quality.toString());\n    \n    // Auto-detect best format\n    const bestFormat = this.getBestFormat(format);\n    if (bestFormat !== 'auto') {\n      params.set('f', bestFormat);\n    }\n    \n    // Use Next.js image optimization\n    return `/_next/image?url=${encodeURIComponent(src)}&${params.toString()}`;\n  }\n\n  // Generate responsive image set\n  generateResponsiveImageSet(src: string, options: ImageOptimizationOptions = {}): ResponsiveImageSet {\n    const breakpoints = [640, 768, 1024, 1280, 1536, 1920];\n    const { quality = 80, format = 'auto' } = options;\n    \n    const srcSet = breakpoints\n      .map(width => {\n        const url = this.generateOptimizedUrl(src, { ...options, width, quality, format });\n        return `${url} ${width}w`;\n      })\n      .join(', ');\n    \n    const sizes = options.sizes || '(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw';\n    const fallbackSrc = this.generateOptimizedUrl(src, { ...options, width: 1200 });\n    \n    return {\n      srcSet,\n      sizes,\n      src: fallbackSrc\n    };\n  }\n\n  // Get best supported format\n  private getBestFormat(requestedFormat: string): string {\n    if (requestedFormat !== 'auto') {\n      return requestedFormat;\n    }\n    \n    // Prefer AVIF, then WebP, then original\n    if (this.supportedFormats.has('avif')) return 'avif';\n    if (this.supportedFormats.has('webp')) return 'webp';\n    return 'auto';\n  }\n\n  // Generate blur placeholder\n  async generateBlurPlaceholder(src: string, width = 10, height = 10): Promise<string> {\n    if (!this.canvas || !this.ctx) {\n      return this.generateSvgPlaceholder(width, height);\n    }\n\n    try {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      \n      await new Promise((resolve, reject) => {\n        img.onload = resolve;\n        img.onerror = reject;\n        img.src = src;\n      });\n\n      this.canvas.width = width;\n      this.canvas.height = height;\n      \n      this.ctx.drawImage(img, 0, 0, width, height);\n      \n      return this.canvas.toDataURL('image/jpeg', 0.1);\n    } catch {\n      return this.generateSvgPlaceholder(width, height);\n    }\n  }\n\n  // Generate SVG placeholder\n  private generateSvgPlaceholder(width: number, height: number, color = '#f3f4f6'): string {\n    const svg = `\n      <svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"100%\" height=\"100%\" fill=\"${color}\"/>\n      </svg>\n    `;\n    \n    return `data:image/svg+xml;base64,${btoa(svg)}`;\n  }\n\n  // Extract dominant color from image\n  async extractDominantColor(src: string): Promise<string> {\n    if (!this.canvas || !this.ctx) {\n      return '#f3f4f6';\n    }\n\n    try {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      \n      await new Promise((resolve, reject) => {\n        img.onload = resolve;\n        img.onerror = reject;\n        img.src = src;\n      });\n\n      this.canvas.width = 1;\n      this.canvas.height = 1;\n      \n      this.ctx.drawImage(img, 0, 0, 1, 1);\n      \n      const [r, g, b] = this.ctx.getImageData(0, 0, 1, 1).data;\n      \n      return `rgb(${r}, ${g}, ${b})`;\n    } catch {\n      return '#f3f4f6';\n    }\n  }\n\n  // Get image metadata\n  async getImageMetadata(src: string): Promise<ImageMetadata> {\n    if (this.imageCache.has(src)) {\n      return this.imageCache.get(src)!;\n    }\n\n    try {\n      const img = new Image();\n      img.crossOrigin = 'anonymous';\n      \n      await new Promise((resolve, reject) => {\n        img.onload = resolve;\n        img.onerror = reject;\n        img.src = src;\n      });\n\n      const metadata: ImageMetadata = {\n        src,\n        width: img.naturalWidth,\n        height: img.naturalHeight,\n        format: this.getImageFormat(src),\n        size: 0, // Would need server-side info\n        aspectRatio: img.naturalWidth / img.naturalHeight,\n        dominantColor: await this.extractDominantColor(src),\n        blurDataURL: await this.generateBlurPlaceholder(src)\n      };\n\n      this.imageCache.set(src, metadata);\n      return metadata;\n    } catch (error) {\n      throw new Error(`Failed to load image metadata: ${error}`);\n    }\n  }\n\n  private getImageFormat(src: string): string {\n    const extension = src.split('.').pop()?.toLowerCase();\n    return extension || 'unknown';\n  }\n\n  // Lazy load image\n  lazyLoad(img: HTMLImageElement) {\n    if (this.intersectionObserver) {\n      this.intersectionObserver.observe(img);\n    } else {\n      // Fallback for browsers without IntersectionObserver\n      this.loadImage(img);\n    }\n  }\n\n  private loadImage(img: HTMLImageElement) {\n    const src = img.dataset.src;\n    if (src && !this.loadingImages.has(src)) {\n      this.loadingImages.add(src);\n      \n      const newImg = new Image();\n      newImg.onload = () => {\n        img.src = src;\n        img.classList.add('loaded');\n        this.loadingImages.delete(src);\n      };\n      newImg.onerror = () => {\n        this.loadingImages.delete(src);\n      };\n      newImg.src = src;\n    }\n  }\n\n  // Preload critical images\n  preloadImage(src: string, options: ImageOptimizationOptions = {}): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const img = new Image();\n      \n      img.onload = () => resolve();\n      img.onerror = reject;\n      \n      // Set responsive attributes if provided\n      if (options.sizes) {\n        const responsive = this.generateResponsiveImageSet(src, options);\n        img.srcset = responsive.srcSet;\n        img.sizes = responsive.sizes;\n      }\n      \n      img.src = this.generateOptimizedUrl(src, options);\n    });\n  }\n\n  // Progressive image loading\n  async loadProgressively(img: HTMLImageElement, src: string, options: ImageOptimizationOptions = {}) {\n    try {\n      // Load low quality placeholder first\n      const placeholderSrc = this.generateOptimizedUrl(src, {\n        ...options,\n        quality: 10,\n        width: Math.min(options.width || 100, 100)\n      });\n      \n      img.src = placeholderSrc;\n      img.style.filter = 'blur(5px)';\n      \n      // Load full quality image\n      const fullSrc = this.generateOptimizedUrl(src, options);\n      const fullImg = new Image();\n      \n      fullImg.onload = () => {\n        img.src = fullSrc;\n        img.style.filter = 'none';\n        img.style.transition = 'filter 0.3s ease';\n      };\n      \n      fullImg.src = fullSrc;\n    } catch (error) {\n      console.error('Progressive loading failed:', error);\n      img.src = src; // Fallback to original\n    }\n  }\n\n  // Clear cache\n  clearCache() {\n    this.imageCache.clear();\n    this.loadingImages.clear();\n  }\n\n  // Get cache stats\n  getCacheStats() {\n    return {\n      cachedImages: this.imageCache.size,\n      loadingImages: this.loadingImages.size,\n      supportedFormats: Array.from(this.supportedFormats)\n    };\n  }\n}\n\n// Singleton instance\nconst imageOptimizer = new ImageOptimizer();\n\n// Export utilities\nexport { imageOptimizer, ImageOptimizer };\nexport type { ImageOptimizationOptions, ImageMetadata, ResponsiveImageSet };\n\n// Convenience functions\nexport const optimizeImage = (src: string, options?: ImageOptimizationOptions) => \n  imageOptimizer.generateOptimizedUrl(src, options);\n\nexport const generateResponsiveImages = (src: string, options?: ImageOptimizationOptions) => \n  imageOptimizer.generateResponsiveImageSet(src, options);\n\nexport const getImageMetadata = (src: string) => \n  imageOptimizer.getImageMetadata(src);\n\nexport const preloadImage = (src: string, options?: ImageOptimizationOptions) => \n  imageOptimizer.preloadImage(src, options);\n\nexport const generateBlurPlaceholder = (src: string, width?: number, height?: number) => \n  imageOptimizer.generateBlurPlaceholder(src, width, height);\n\nexport const extractDominantColor = (src: string) => \n  imageOptimizer.extractDominantColor(src);\n\nexport const lazyLoadImage = (img: HTMLImageElement) => \n  imageOptimizer.lazyLoad(img);\n\nexport const loadProgressively = (img: HTMLImageElement, src: string, options?: ImageOptimizationOptions) => \n  imageOptimizer.loadProgressively(img, src, options);\n\nexport const clearImageCache = () => imageOptimizer.clearCache();\nexport const getImageCacheStats = () => imageOptimizer.getCacheStats();"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}