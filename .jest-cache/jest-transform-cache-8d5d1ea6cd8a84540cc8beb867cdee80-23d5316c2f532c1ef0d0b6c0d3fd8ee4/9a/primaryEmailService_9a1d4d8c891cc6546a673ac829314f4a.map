{"version":3,"names":["cov_1mgtvst7a4","actualCoverage","s","PrimaryEmailService","f","default","_default","primaryEmailService","configure","config","provider","b","activeService","_mailjet","mailjetService","Error","sendEmail","options","getTemplates","getAnalytics","apiKey","process","env","NEXT_PUBLIC_MAILJET_API_KEY","secretKey","NEXT_PUBLIC_MAILJET_SECRET_KEY","fromEmail","NEXT_PUBLIC_MAILJET_FROM_EMAIL","fromName","NEXT_PUBLIC_MAILJET_FROM_NAME"],"sources":["C:\\Users\\chase\\Downloads\\crm (32)\\src\\services\\primaryEmailService.ts"],"sourcesContent":["// Create a new primary email service that uses Mailjet as the default\nimport { mailjetService } from \"./mailjet\"\n\nexport interface EmailServiceConfig {\n  provider: \"mailjet\" | \"outlook\" | \"smtp\"\n  apiKey?: string\n  secretKey?: string\n  fromEmail: string\n  fromName: string\n}\n\nexport class PrimaryEmailService {\n  private config: EmailServiceConfig | null = null\n  private activeService: any = null\n\n  async configure(config: EmailServiceConfig): Promise<void> {\n    this.config = config\n\n    switch (config.provider) {\n      case \"mailjet\":\n        this.activeService = mailjetService\n        break\n      case \"outlook\":\n        // Configure Outlook service\n        break\n      case \"smtp\":\n        // Configure SMTP service\n        break\n      default:\n        throw new Error(\"Unsupported email provider\")\n    }\n\n    // Initialize the service with configuration\n    if (this.activeService && this.activeService.configure) {\n      await this.activeService.configure(config)\n    }\n  }\n\n  async sendEmail(options: any): Promise<any> {\n    if (!this.activeService) {\n      throw new Error(\"Email service not configured\")\n    }\n\n    return await this.activeService.sendEmail(options)\n  }\n\n  async getTemplates(): Promise<any[]> {\n    if (!this.activeService) {\n      throw new Error(\"Email service not configured\")\n    }\n\n    return await this.activeService.getTemplates()\n  }\n\n  async getAnalytics(): Promise<any> {\n    if (!this.activeService) {\n      throw new Error(\"Email service not configured\")\n    }\n\n    return await this.activeService.getAnalytics()\n  }\n}\n\n// Create singleton instance with Mailjet as default\nexport const primaryEmailService = new PrimaryEmailService()\n\n// Auto-configure with Mailjet\nprimaryEmailService.configure({\n  provider: \"mailjet\",\n  apiKey: process.env.NEXT_PUBLIC_MAILJET_API_KEY || \"\",\n    secretKey: process.env.NEXT_PUBLIC_MAILJET_SECRET_KEY || \"\",\n    fromEmail: process.env.NEXT_PUBLIC_MAILJET_FROM_EMAIL || \"noreply@company.com\",\n    fromName: process.env.NEXT_PUBLIC_MAILJET_FROM_NAME || \"CRM System\",\n})\n\nexport default primaryEmailService\n"],"mappings":"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","ignoreList":[]}