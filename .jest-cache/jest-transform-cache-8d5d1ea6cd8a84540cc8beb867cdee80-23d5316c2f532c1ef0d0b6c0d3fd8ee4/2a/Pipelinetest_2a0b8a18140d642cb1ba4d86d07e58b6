e579c154ae5d01fd16d7dab48ef2d3b3
"use strict";
// Mock the hooks
jest.mock('../../hooks/useClientActions', ()=>({
        useClientActions: ()=>({
                updateClientStage: jest.fn(),
                addClient: jest.fn(),
                updateClient: jest.fn(),
                deleteClient: jest.fn()
            })
    }));
// Mock framer-motion
jest.mock('framer-motion', ()=>({
        motion: {
            div: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    ...props,
                    children: children
                }),
            button: ({ children, ...props })=>/*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                    ...props,
                    children: children
                })
        },
        AnimatePresence: ({ children })=>children
    }));
// Mock the Pipeline sub-components
jest.mock('../Pipeline/PipelineMetricsView', ()=>{
    return function MockPipelineMetricsView() {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            "data-testid": "pipeline-metrics-view",
            children: "Pipeline Metrics View"
        });
    };
});
jest.mock('../Pipeline/PipelineCardsView', ()=>{
    return function MockPipelineCardsView() {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            "data-testid": "pipeline-cards-view",
            children: "Pipeline Cards View"
        });
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
require("@testing-library/jest-dom");
const _Pipeline = /*#__PURE__*/ _interop_require_default(require("../Pipeline"));
const _AppContext = require("../../context/AppContext");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockClients = [
    {
        id: '1',
        name: 'John Doe',
        email: 'john@example.com',
        phone: '+1 (555) 123-4567',
        company: 'Acme Corp',
        stage: 'lead',
        value: 50000,
        lastContact: '2024-01-15',
        notes: [],
        projects: [],
        tags: [
            'enterprise'
        ],
        priority: 'high',
        source: 'website',
        assignedTo: 'sales-rep-1'
    },
    {
        id: '2',
        name: 'Jane Smith',
        email: 'jane@example.com',
        phone: '+1 (555) 987-6543',
        company: 'Tech Solutions',
        stage: 'qualified',
        value: 75000,
        lastContact: '2024-01-10',
        notes: [],
        projects: [],
        tags: [
            'tech'
        ],
        priority: 'medium',
        source: 'referral',
        assignedTo: 'sales-rep-2'
    },
    {
        id: '3',
        name: 'Bob Wilson',
        email: 'bob@example.com',
        phone: '+1 (555) 456-7890',
        company: 'StartupXYZ',
        stage: 'proposal',
        value: 25000,
        lastContact: '2024-01-05',
        notes: [],
        projects: [],
        tags: [
            'startup'
        ],
        priority: 'low',
        source: 'cold-call',
        assignedTo: 'sales-rep-1'
    },
    {
        id: '4',
        name: 'Alice Johnson',
        email: 'alice@example.com',
        phone: '+1 (555) 321-0987',
        company: 'Enterprise Inc',
        stage: 'closed',
        value: 100000,
        lastContact: '2024-01-01',
        notes: [],
        projects: [],
        tags: [
            'enterprise',
            'vip'
        ],
        priority: 'high',
        source: 'referral',
        assignedTo: 'sales-rep-1'
    }
];
const mockSalesStages = [
    {
        id: 'lead',
        name: 'Lead',
        color: '#3B82F6'
    },
    {
        id: 'qualified',
        name: 'Qualified',
        color: '#10B981'
    },
    {
        id: 'proposal',
        name: 'Proposal',
        color: '#F59E0B'
    },
    {
        id: 'closed',
        name: 'Closed',
        color: '#EF4444'
    }
];
const mockInitialState = {
    clients: mockClients,
    salesStages: mockSalesStages,
    contracts: [],
    invoices: [],
    tasks: [],
    projects: [],
    reports: [],
    settings: {
        currency: 'USD',
        dateFormat: 'MM/DD/YYYY',
        timezone: 'UTC'
    }
};
const renderWithProvider = (component)=>{
    return (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AppContext.AppProvider, {
        initialState: mockInitialState,
        children: component
    }));
};
describe('Pipeline Component', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    test('renders pipeline component', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        expect(_react1.screen.getByText('Sales Pipeline')).toBeInTheDocument();
    });
    test('displays all sales stages', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        expect(_react1.screen.getByText('Lead')).toBeInTheDocument();
        expect(_react1.screen.getByText('Qualified')).toBeInTheDocument();
        expect(_react1.screen.getByText('Proposal')).toBeInTheDocument();
        expect(_react1.screen.getByText('Closed')).toBeInTheDocument();
    });
    test('shows clients in correct stages', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Check that clients appear in their respective stages
        expect(_react1.screen.getByText('John Doe')).toBeInTheDocument();
        expect(_react1.screen.getByText('Jane Smith')).toBeInTheDocument();
        expect(_react1.screen.getByText('Bob Wilson')).toBeInTheDocument();
        expect(_react1.screen.getByText('Alice Johnson')).toBeInTheDocument();
    });
    test('displays client values correctly', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        expect(_react1.screen.getByText('$50,000')).toBeInTheDocument();
        expect(_react1.screen.getByText('$75,000')).toBeInTheDocument();
        expect(_react1.screen.getByText('$25,000')).toBeInTheDocument();
        expect(_react1.screen.getByText('$100,000')).toBeInTheDocument();
    });
    test('calculates stage totals correctly', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Lead stage: $50,000
        // Qualified stage: $75,000
        // Proposal stage: $25,000
        // Closed stage: $100,000
        const leadTotal = mockClients.filter((c)=>c.stage === 'lead').reduce((sum, c)=>sum + c.value, 0);
        const qualifiedTotal = mockClients.filter((c)=>c.stage === 'qualified').reduce((sum, c)=>sum + c.value, 0);
        const proposalTotal = mockClients.filter((c)=>c.stage === 'proposal').reduce((sum, c)=>sum + c.value, 0);
        const closedTotal = mockClients.filter((c)=>c.stage === 'closed').reduce((sum, c)=>sum + c.value, 0);
        expect(leadTotal).toBe(50000);
        expect(qualifiedTotal).toBe(75000);
        expect(proposalTotal).toBe(25000);
        expect(closedTotal).toBe(100000);
    });
    test('view mode switching works', async ()=>{
        const user = _userevent.default.setup();
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Test switching to metrics view
        const metricsButton = _react1.screen.getByText('Metrics');
        await user.click(metricsButton);
        expect(_react1.screen.getByTestId('pipeline-metrics-view')).toBeInTheDocument();
    });
    test('search functionality filters clients', async ()=>{
        const user = _userevent.default.setup();
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        const searchInput = _react1.screen.getByPlaceholderText(/search clients/i);
        await user.type(searchInput, 'John');
        expect(_react1.screen.getByText('John Doe')).toBeInTheDocument();
        expect(_react1.screen.queryByText('Jane Smith')).not.toBeInTheDocument();
    });
    test('filter by value range works', async ()=>{
        const user = _userevent.default.setup();
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Open filters
        const filterButton = _react1.screen.getByText('Filters');
        await user.click(filterButton);
        // Set minimum value filter
        const minValueInput = _react1.screen.getByLabelText(/minimum value/i);
        await user.clear(minValueInput);
        await user.type(minValueInput, '60000');
        // Should show only clients with value >= 60000
        expect(_react1.screen.getByText('Jane Smith')).toBeInTheDocument(); // $75,000
        expect(_react1.screen.getByText('Alice Johnson')).toBeInTheDocument(); // $100,000
        expect(_react1.screen.queryByText('John Doe')).not.toBeInTheDocument(); // $50,000
        expect(_react1.screen.queryByText('Bob Wilson')).not.toBeInTheDocument(); // $25,000
    });
    test('displays stage metrics correctly', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Check client count per stage
        const leadCount = mockClients.filter((c)=>c.stage === 'lead').length;
        const qualifiedCount = mockClients.filter((c)=>c.stage === 'qualified').length;
        const proposalCount = mockClients.filter((c)=>c.stage === 'proposal').length;
        const closedCount = mockClients.filter((c)=>c.stage === 'closed').length;
        expect(leadCount).toBe(1);
        expect(qualifiedCount).toBe(1);
        expect(proposalCount).toBe(1);
        expect(closedCount).toBe(1);
    });
    test('handles drag and drop functionality', async ()=>{
        const user = _userevent.default.setup();
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Find a client card
        const clientCard = _react1.screen.getByText('John Doe').closest('[draggable]');
        if (clientCard) {
            // Simulate drag start
            _react1.fireEvent.dragStart(clientCard);
            // Find a drop zone (different stage)
            const qualifiedStage = _react1.screen.getByText('Qualified').closest('.stage-column');
            if (qualifiedStage) {
                // Simulate drop
                _react1.fireEvent.dragOver(qualifiedStage);
                _react1.fireEvent.drop(qualifiedStage);
            // Verify that updateClientStage was called
            // Note: This would require mocking the hook properly
            }
        }
    });
    test('shows client priority indicators', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Check for priority indicators
        const highPriorityElements = _react1.screen.getAllByText(/high/i);
        const mediumPriorityElements = _react1.screen.getAllByText(/medium/i);
        const lowPriorityElements = _react1.screen.getAllByText(/low/i);
        expect(highPriorityElements.length).toBeGreaterThan(0);
        expect(mediumPriorityElements.length).toBeGreaterThan(0);
        expect(lowPriorityElements.length).toBeGreaterThan(0);
    });
    test('displays client tags', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        expect(_react1.screen.getByText('enterprise')).toBeInTheDocument();
        expect(_react1.screen.getByText('tech')).toBeInTheDocument();
        expect(_react1.screen.getByText('startup')).toBeInTheDocument();
        expect(_react1.screen.getByText('vip')).toBeInTheDocument();
    });
    test('handles empty pipeline gracefully', ()=>{
        const emptyState = {
            ...mockInitialState,
            clients: []
        };
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_AppContext.AppProvider, {
            initialState: emptyState,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {})
        }));
        expect(_react1.screen.getByText('Sales Pipeline')).toBeInTheDocument();
        expect(_react1.screen.getByText(/no clients in pipeline/i)).toBeInTheDocument();
    });
    test('calculates conversion rates correctly', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        const totalClients = mockClients.length;
        const closedClients = mockClients.filter((c)=>c.stage === 'closed').length;
        const conversionRate = Math.round(closedClients / totalClients * 100);
        expect(conversionRate).toBe(25); // 1 out of 4 clients closed
    });
    test('shows pipeline velocity metrics', ()=>{
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Switch to metrics view to see velocity
        const metricsButton = _react1.screen.getByText('Metrics');
        _react1.fireEvent.click(metricsButton);
        expect(_react1.screen.getByTestId('pipeline-metrics-view')).toBeInTheDocument();
    });
    test('bulk actions work correctly', async ()=>{
        const user = _userevent.default.setup();
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Select multiple clients
        const checkboxes = _react1.screen.getAllByRole('checkbox');
        if (checkboxes.length > 0) {
            await user.click(checkboxes[0]);
            await user.click(checkboxes[1]);
            // Check that bulk actions become available
            expect(_react1.screen.getByText('Bulk Actions')).toBeInTheDocument();
        }
    });
    test('export functionality works', async ()=>{
        const user = _userevent.default.setup();
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        const exportButton = _react1.screen.getByText('Export');
        await user.click(exportButton);
        // Should show export options
        expect(_react1.screen.getByText('Export Pipeline Data')).toBeInTheDocument();
    });
    test('responsive design adapts to screen size', ()=>{
        // Mock window.innerWidth
        Object.defineProperty(window, 'innerWidth', {
            writable: true,
            configurable: true,
            value: 768
        });
        renderWithProvider(/*#__PURE__*/ (0, _jsxruntime.jsx)(_Pipeline.default, {}));
        // Check that mobile view is rendered
        const pipelineContainer = _react1.screen.getByText('Sales Pipeline').closest('div');
        expect(pipelineContainer).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcY2hhc2VcXERvd25sb2Fkc1xcY3JtICgzMilcXHNyY1xcY29tcG9uZW50c1xcX190ZXN0c19fXFxQaXBlbGluZS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnXG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCdcbmltcG9ydCB1c2VyRXZlbnQgZnJvbSAnQHRlc3RpbmctbGlicmFyeS91c2VyLWV2ZW50J1xuaW1wb3J0ICdAdGVzdGluZy1saWJyYXJ5L2plc3QtZG9tJ1xuaW1wb3J0IFBpcGVsaW5lIGZyb20gJy4uL1BpcGVsaW5lJ1xuaW1wb3J0IHsgQXBwUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9jb250ZXh0L0FwcENvbnRleHQnXG5pbXBvcnQgdHlwZSB7IENsaWVudCB9IGZyb20gJy4uLy4uL3R5cGVzJ1xuXG4vLyBNb2NrIHRoZSBob29rc1xuamVzdC5tb2NrKCcuLi8uLi9ob29rcy91c2VDbGllbnRBY3Rpb25zJywgKCkgPT4gKHtcbiAgdXNlQ2xpZW50QWN0aW9uczogKCkgPT4gKHtcbiAgICB1cGRhdGVDbGllbnRTdGFnZTogamVzdC5mbigpLFxuICAgIGFkZENsaWVudDogamVzdC5mbigpLFxuICAgIHVwZGF0ZUNsaWVudDogamVzdC5mbigpLFxuICAgIGRlbGV0ZUNsaWVudDogamVzdC5mbigpLFxuICB9KVxufSkpXG5cbi8vIE1vY2sgZnJhbWVyLW1vdGlvblxuamVzdC5tb2NrKCdmcmFtZXItbW90aW9uJywgKCkgPT4gKHtcbiAgbW90aW9uOiB7XG4gICAgZGl2OiAoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfTogYW55KSA9PiA8ZGl2IHsuLi5wcm9wc30+e2NoaWxkcmVufTwvZGl2PixcbiAgICBidXR0b246ICh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9OiBhbnkpID0+IDxidXR0b24gey4uLnByb3BzfT57Y2hpbGRyZW59PC9idXR0b24+LFxuICB9LFxuICBBbmltYXRlUHJlc2VuY2U6ICh7IGNoaWxkcmVuIH06IGFueSkgPT4gY2hpbGRyZW4sXG59KSlcblxuLy8gTW9jayB0aGUgUGlwZWxpbmUgc3ViLWNvbXBvbmVudHNcbmplc3QubW9jaygnLi4vUGlwZWxpbmUvUGlwZWxpbmVNZXRyaWNzVmlldycsICgpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIE1vY2tQaXBlbGluZU1ldHJpY3NWaWV3KCkge1xuICAgIHJldHVybiA8ZGl2IGRhdGEtdGVzdGlkPVwicGlwZWxpbmUtbWV0cmljcy12aWV3XCI+UGlwZWxpbmUgTWV0cmljcyBWaWV3PC9kaXY+XG4gIH1cbn0pXG5cbmplc3QubW9jaygnLi4vUGlwZWxpbmUvUGlwZWxpbmVDYXJkc1ZpZXcnLCAoKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBNb2NrUGlwZWxpbmVDYXJkc1ZpZXcoKSB7XG4gICAgcmV0dXJuIDxkaXYgZGF0YS10ZXN0aWQ9XCJwaXBlbGluZS1jYXJkcy12aWV3XCI+UGlwZWxpbmUgQ2FyZHMgVmlldzwvZGl2PlxuICB9XG59KVxuXG5jb25zdCBtb2NrQ2xpZW50czogQ2xpZW50W10gPSBbXG4gIHtcbiAgICBpZDogJzEnLFxuICAgIG5hbWU6ICdKb2huIERvZScsXG4gICAgZW1haWw6ICdqb2huQGV4YW1wbGUuY29tJyxcbiAgICBwaG9uZTogJysxICg1NTUpIDEyMy00NTY3JyxcbiAgICBjb21wYW55OiAnQWNtZSBDb3JwJyxcbiAgICBzdGFnZTogJ2xlYWQnLFxuICAgIHZhbHVlOiA1MDAwMCxcbiAgICBsYXN0Q29udGFjdDogJzIwMjQtMDEtMTUnLFxuICAgIG5vdGVzOiBbXSxcbiAgICBwcm9qZWN0czogW10sXG4gICAgdGFnczogWydlbnRlcnByaXNlJ10sXG4gICAgcHJpb3JpdHk6ICdoaWdoJyxcbiAgICBzb3VyY2U6ICd3ZWJzaXRlJyxcbiAgICBhc3NpZ25lZFRvOiAnc2FsZXMtcmVwLTEnXG4gIH0sXG4gIHtcbiAgICBpZDogJzInLFxuICAgIG5hbWU6ICdKYW5lIFNtaXRoJyxcbiAgICBlbWFpbDogJ2phbmVAZXhhbXBsZS5jb20nLFxuICAgIHBob25lOiAnKzEgKDU1NSkgOTg3LTY1NDMnLFxuICAgIGNvbXBhbnk6ICdUZWNoIFNvbHV0aW9ucycsXG4gICAgc3RhZ2U6ICdxdWFsaWZpZWQnLFxuICAgIHZhbHVlOiA3NTAwMCxcbiAgICBsYXN0Q29udGFjdDogJzIwMjQtMDEtMTAnLFxuICAgIG5vdGVzOiBbXSxcbiAgICBwcm9qZWN0czogW10sXG4gICAgdGFnczogWyd0ZWNoJ10sXG4gICAgcHJpb3JpdHk6ICdtZWRpdW0nLFxuICAgIHNvdXJjZTogJ3JlZmVycmFsJyxcbiAgICBhc3NpZ25lZFRvOiAnc2FsZXMtcmVwLTInXG4gIH0sXG4gIHtcbiAgICBpZDogJzMnLFxuICAgIG5hbWU6ICdCb2IgV2lsc29uJyxcbiAgICBlbWFpbDogJ2JvYkBleGFtcGxlLmNvbScsXG4gICAgcGhvbmU6ICcrMSAoNTU1KSA0NTYtNzg5MCcsXG4gICAgY29tcGFueTogJ1N0YXJ0dXBYWVonLFxuICAgIHN0YWdlOiAncHJvcG9zYWwnLFxuICAgIHZhbHVlOiAyNTAwMCxcbiAgICBsYXN0Q29udGFjdDogJzIwMjQtMDEtMDUnLFxuICAgIG5vdGVzOiBbXSxcbiAgICBwcm9qZWN0czogW10sXG4gICAgdGFnczogWydzdGFydHVwJ10sXG4gICAgcHJpb3JpdHk6ICdsb3cnLFxuICAgIHNvdXJjZTogJ2NvbGQtY2FsbCcsXG4gICAgYXNzaWduZWRUbzogJ3NhbGVzLXJlcC0xJ1xuICB9LFxuICB7XG4gICAgaWQ6ICc0JyxcbiAgICBuYW1lOiAnQWxpY2UgSm9obnNvbicsXG4gICAgZW1haWw6ICdhbGljZUBleGFtcGxlLmNvbScsXG4gICAgcGhvbmU6ICcrMSAoNTU1KSAzMjEtMDk4NycsXG4gICAgY29tcGFueTogJ0VudGVycHJpc2UgSW5jJyxcbiAgICBzdGFnZTogJ2Nsb3NlZCcsXG4gICAgdmFsdWU6IDEwMDAwMCxcbiAgICBsYXN0Q29udGFjdDogJzIwMjQtMDEtMDEnLFxuICAgIG5vdGVzOiBbXSxcbiAgICBwcm9qZWN0czogW10sXG4gICAgdGFnczogWydlbnRlcnByaXNlJywgJ3ZpcCddLFxuICAgIHByaW9yaXR5OiAnaGlnaCcsXG4gICAgc291cmNlOiAncmVmZXJyYWwnLFxuICAgIGFzc2lnbmVkVG86ICdzYWxlcy1yZXAtMSdcbiAgfVxuXVxuXG5jb25zdCBtb2NrU2FsZXNTdGFnZXMgPSBbXG4gIHsgaWQ6ICdsZWFkJywgbmFtZTogJ0xlYWQnLCBjb2xvcjogJyMzQjgyRjYnIH0sXG4gIHsgaWQ6ICdxdWFsaWZpZWQnLCBuYW1lOiAnUXVhbGlmaWVkJywgY29sb3I6ICcjMTBCOTgxJyB9LFxuICB7IGlkOiAncHJvcG9zYWwnLCBuYW1lOiAnUHJvcG9zYWwnLCBjb2xvcjogJyNGNTlFMEInIH0sXG4gIHsgaWQ6ICdjbG9zZWQnLCBuYW1lOiAnQ2xvc2VkJywgY29sb3I6ICcjRUY0NDQ0JyB9XG5dXG5cbmNvbnN0IG1vY2tJbml0aWFsU3RhdGUgPSB7XG4gIGNsaWVudHM6IG1vY2tDbGllbnRzLFxuICBzYWxlc1N0YWdlczogbW9ja1NhbGVzU3RhZ2VzLFxuICBjb250cmFjdHM6IFtdLFxuICBpbnZvaWNlczogW10sXG4gIHRhc2tzOiBbXSxcbiAgcHJvamVjdHM6IFtdLFxuICByZXBvcnRzOiBbXSxcbiAgc2V0dGluZ3M6IHtcbiAgICBjdXJyZW5jeTogJ1VTRCcsXG4gICAgZGF0ZUZvcm1hdDogJ01NL0REL1lZWVknLFxuICAgIHRpbWV6b25lOiAnVVRDJ1xuICB9XG59XG5cbmNvbnN0IHJlbmRlcldpdGhQcm92aWRlciA9IChjb21wb25lbnQ6IFJlYWN0LlJlYWN0RWxlbWVudCkgPT4ge1xuICByZXR1cm4gcmVuZGVyKFxuICAgIDxBcHBQcm92aWRlciBpbml0aWFsU3RhdGU9e21vY2tJbml0aWFsU3RhdGV9PlxuICAgICAge2NvbXBvbmVudH1cbiAgICA8L0FwcFByb3ZpZGVyPlxuICApXG59XG5cbmRlc2NyaWJlKCdQaXBlbGluZSBDb21wb25lbnQnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpXG4gIH0pXG5cbiAgdGVzdCgncmVuZGVycyBwaXBlbGluZSBjb21wb25lbnQnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFByb3ZpZGVyKDxQaXBlbGluZSAvPilcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU2FsZXMgUGlwZWxpbmUnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxuXG4gIHRlc3QoJ2Rpc3BsYXlzIGFsbCBzYWxlcyBzdGFnZXMnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFByb3ZpZGVyKDxQaXBlbGluZSAvPilcbiAgICBcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTGVhZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1F1YWxpZmllZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Byb3Bvc2FsJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQ2xvc2VkJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgfSlcblxuICB0ZXN0KCdzaG93cyBjbGllbnRzIGluIGNvcnJlY3Qgc3RhZ2VzJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhQcm92aWRlcig8UGlwZWxpbmUgLz4pXG4gICAgXG4gICAgLy8gQ2hlY2sgdGhhdCBjbGllbnRzIGFwcGVhciBpbiB0aGVpciByZXNwZWN0aXZlIHN0YWdlc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdKb2huIERvZScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0phbmUgU21pdGgnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdCb2IgV2lsc29uJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWxpY2UgSm9obnNvbicpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgdGVzdCgnZGlzcGxheXMgY2xpZW50IHZhbHVlcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFByb3ZpZGVyKDxQaXBlbGluZSAvPilcbiAgICBcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnJDUwLDAwMCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJyQ3NSwwMDAnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCckMjUsMDAwJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnJDEwMCwwMDAnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxuXG4gIHRlc3QoJ2NhbGN1bGF0ZXMgc3RhZ2UgdG90YWxzIGNvcnJlY3RseScsICgpID0+IHtcbiAgICByZW5kZXJXaXRoUHJvdmlkZXIoPFBpcGVsaW5lIC8+KVxuICAgIFxuICAgIC8vIExlYWQgc3RhZ2U6ICQ1MCwwMDBcbiAgICAvLyBRdWFsaWZpZWQgc3RhZ2U6ICQ3NSwwMDBcbiAgICAvLyBQcm9wb3NhbCBzdGFnZTogJDI1LDAwMFxuICAgIC8vIENsb3NlZCBzdGFnZTogJDEwMCwwMDBcbiAgICBcbiAgICBjb25zdCBsZWFkVG90YWwgPSBtb2NrQ2xpZW50cy5maWx0ZXIoYyA9PiBjLnN0YWdlID09PSAnbGVhZCcpLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLnZhbHVlLCAwKVxuICAgIGNvbnN0IHF1YWxpZmllZFRvdGFsID0gbW9ja0NsaWVudHMuZmlsdGVyKGMgPT4gYy5zdGFnZSA9PT0gJ3F1YWxpZmllZCcpLnJlZHVjZSgoc3VtLCBjKSA9PiBzdW0gKyBjLnZhbHVlLCAwKVxuICAgIGNvbnN0IHByb3Bvc2FsVG90YWwgPSBtb2NrQ2xpZW50cy5maWx0ZXIoYyA9PiBjLnN0YWdlID09PSAncHJvcG9zYWwnKS5yZWR1Y2UoKHN1bSwgYykgPT4gc3VtICsgYy52YWx1ZSwgMClcbiAgICBjb25zdCBjbG9zZWRUb3RhbCA9IG1vY2tDbGllbnRzLmZpbHRlcihjID0+IGMuc3RhZ2UgPT09ICdjbG9zZWQnKS5yZWR1Y2UoKHN1bSwgYykgPT4gc3VtICsgYy52YWx1ZSwgMClcbiAgICBcbiAgICBleHBlY3QobGVhZFRvdGFsKS50b0JlKDUwMDAwKVxuICAgIGV4cGVjdChxdWFsaWZpZWRUb3RhbCkudG9CZSg3NTAwMClcbiAgICBleHBlY3QocHJvcG9zYWxUb3RhbCkudG9CZSgyNTAwMClcbiAgICBleHBlY3QoY2xvc2VkVG90YWwpLnRvQmUoMTAwMDAwKVxuICB9KVxuXG4gIHRlc3QoJ3ZpZXcgbW9kZSBzd2l0Y2hpbmcgd29ya3MnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgcmVuZGVyV2l0aFByb3ZpZGVyKDxQaXBlbGluZSAvPilcbiAgICBcbiAgICAvLyBUZXN0IHN3aXRjaGluZyB0byBtZXRyaWNzIHZpZXdcbiAgICBjb25zdCBtZXRyaWNzQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnTWV0cmljcycpXG4gICAgYXdhaXQgdXNlci5jbGljayhtZXRyaWNzQnV0dG9uKVxuICAgIFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3BpcGVsaW5lLW1ldHJpY3MtdmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgdGVzdCgnc2VhcmNoIGZ1bmN0aW9uYWxpdHkgZmlsdGVycyBjbGllbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIHJlbmRlcldpdGhQcm92aWRlcig8UGlwZWxpbmUgLz4pXG4gICAgXG4gICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlQbGFjZWhvbGRlclRleHQoL3NlYXJjaCBjbGllbnRzL2kpXG4gICAgYXdhaXQgdXNlci50eXBlKHNlYXJjaElucHV0LCAnSm9obicpXG4gICAgXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0pvaG4gRG9lJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdKYW5lIFNtaXRoJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgdGVzdCgnZmlsdGVyIGJ5IHZhbHVlIHJhbmdlIHdvcmtzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIHJlbmRlcldpdGhQcm92aWRlcig8UGlwZWxpbmUgLz4pXG4gICAgXG4gICAgLy8gT3BlbiBmaWx0ZXJzXG4gICAgY29uc3QgZmlsdGVyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRmlsdGVycycpXG4gICAgYXdhaXQgdXNlci5jbGljayhmaWx0ZXJCdXR0b24pXG4gICAgXG4gICAgLy8gU2V0IG1pbmltdW0gdmFsdWUgZmlsdGVyXG4gICAgY29uc3QgbWluVmFsdWVJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvbWluaW11bSB2YWx1ZS9pKVxuICAgIGF3YWl0IHVzZXIuY2xlYXIobWluVmFsdWVJbnB1dClcbiAgICBhd2FpdCB1c2VyLnR5cGUobWluVmFsdWVJbnB1dCwgJzYwMDAwJylcbiAgICBcbiAgICAvLyBTaG91bGQgc2hvdyBvbmx5IGNsaWVudHMgd2l0aCB2YWx1ZSA+PSA2MDAwMFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdKYW5lIFNtaXRoJykpLnRvQmVJblRoZURvY3VtZW50KCkgLy8gJDc1LDAwMFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBbGljZSBKb2huc29uJykpLnRvQmVJblRoZURvY3VtZW50KCkgLy8gJDEwMCwwMDBcbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdKb2huIERvZScpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKSAvLyAkNTAsMDAwXG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnQm9iIFdpbHNvbicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKSAvLyAkMjUsMDAwXG4gIH0pXG5cbiAgdGVzdCgnZGlzcGxheXMgc3RhZ2UgbWV0cmljcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFByb3ZpZGVyKDxQaXBlbGluZSAvPilcbiAgICBcbiAgICAvLyBDaGVjayBjbGllbnQgY291bnQgcGVyIHN0YWdlXG4gICAgY29uc3QgbGVhZENvdW50ID0gbW9ja0NsaWVudHMuZmlsdGVyKGMgPT4gYy5zdGFnZSA9PT0gJ2xlYWQnKS5sZW5ndGhcbiAgICBjb25zdCBxdWFsaWZpZWRDb3VudCA9IG1vY2tDbGllbnRzLmZpbHRlcihjID0+IGMuc3RhZ2UgPT09ICdxdWFsaWZpZWQnKS5sZW5ndGhcbiAgICBjb25zdCBwcm9wb3NhbENvdW50ID0gbW9ja0NsaWVudHMuZmlsdGVyKGMgPT4gYy5zdGFnZSA9PT0gJ3Byb3Bvc2FsJykubGVuZ3RoXG4gICAgY29uc3QgY2xvc2VkQ291bnQgPSBtb2NrQ2xpZW50cy5maWx0ZXIoYyA9PiBjLnN0YWdlID09PSAnY2xvc2VkJykubGVuZ3RoXG4gICAgXG4gICAgZXhwZWN0KGxlYWRDb3VudCkudG9CZSgxKVxuICAgIGV4cGVjdChxdWFsaWZpZWRDb3VudCkudG9CZSgxKVxuICAgIGV4cGVjdChwcm9wb3NhbENvdW50KS50b0JlKDEpXG4gICAgZXhwZWN0KGNsb3NlZENvdW50KS50b0JlKDEpXG4gIH0pXG5cbiAgdGVzdCgnaGFuZGxlcyBkcmFnIGFuZCBkcm9wIGZ1bmN0aW9uYWxpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpXG4gICAgcmVuZGVyV2l0aFByb3ZpZGVyKDxQaXBlbGluZSAvPilcbiAgICBcbiAgICAvLyBGaW5kIGEgY2xpZW50IGNhcmRcbiAgICBjb25zdCBjbGllbnRDYXJkID0gc2NyZWVuLmdldEJ5VGV4dCgnSm9obiBEb2UnKS5jbG9zZXN0KCdbZHJhZ2dhYmxlXScpXG4gICAgXG4gICAgaWYgKGNsaWVudENhcmQpIHtcbiAgICAgIC8vIFNpbXVsYXRlIGRyYWcgc3RhcnRcbiAgICAgIGZpcmVFdmVudC5kcmFnU3RhcnQoY2xpZW50Q2FyZClcbiAgICAgIFxuICAgICAgLy8gRmluZCBhIGRyb3Agem9uZSAoZGlmZmVyZW50IHN0YWdlKVxuICAgICAgY29uc3QgcXVhbGlmaWVkU3RhZ2UgPSBzY3JlZW4uZ2V0QnlUZXh0KCdRdWFsaWZpZWQnKS5jbG9zZXN0KCcuc3RhZ2UtY29sdW1uJylcbiAgICAgIFxuICAgICAgaWYgKHF1YWxpZmllZFN0YWdlKSB7XG4gICAgICAgIC8vIFNpbXVsYXRlIGRyb3BcbiAgICAgICAgZmlyZUV2ZW50LmRyYWdPdmVyKHF1YWxpZmllZFN0YWdlKVxuICAgICAgICBmaXJlRXZlbnQuZHJvcChxdWFsaWZpZWRTdGFnZSlcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcmlmeSB0aGF0IHVwZGF0ZUNsaWVudFN0YWdlIHdhcyBjYWxsZWRcbiAgICAgICAgLy8gTm90ZTogVGhpcyB3b3VsZCByZXF1aXJlIG1vY2tpbmcgdGhlIGhvb2sgcHJvcGVybHlcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbiAgdGVzdCgnc2hvd3MgY2xpZW50IHByaW9yaXR5IGluZGljYXRvcnMnLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFByb3ZpZGVyKDxQaXBlbGluZSAvPilcbiAgICBcbiAgICAvLyBDaGVjayBmb3IgcHJpb3JpdHkgaW5kaWNhdG9yc1xuICAgIGNvbnN0IGhpZ2hQcmlvcml0eUVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvaGlnaC9pKVxuICAgIGNvbnN0IG1lZGl1bVByaW9yaXR5RWxlbWVudHMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC9tZWRpdW0vaSlcbiAgICBjb25zdCBsb3dQcmlvcml0eUVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5VGV4dCgvbG93L2kpXG4gICAgXG4gICAgZXhwZWN0KGhpZ2hQcmlvcml0eUVsZW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApXG4gICAgZXhwZWN0KG1lZGl1bVByaW9yaXR5RWxlbWVudHMubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMClcbiAgICBleHBlY3QobG93UHJpb3JpdHlFbGVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKVxuICB9KVxuXG4gIHRlc3QoJ2Rpc3BsYXlzIGNsaWVudCB0YWdzJywgKCkgPT4ge1xuICAgIHJlbmRlcldpdGhQcm92aWRlcig8UGlwZWxpbmUgLz4pXG4gICAgXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ2VudGVycHJpc2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCd0ZWNoJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnc3RhcnR1cCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ3ZpcCcpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgdGVzdCgnaGFuZGxlcyBlbXB0eSBwaXBlbGluZSBncmFjZWZ1bGx5JywgKCkgPT4ge1xuICAgIGNvbnN0IGVtcHR5U3RhdGUgPSB7XG4gICAgICAuLi5tb2NrSW5pdGlhbFN0YXRlLFxuICAgICAgY2xpZW50czogW11cbiAgICB9XG4gICAgXG4gICAgcmVuZGVyKFxuICAgICAgPEFwcFByb3ZpZGVyIGluaXRpYWxTdGF0ZT17ZW1wdHlTdGF0ZX0+XG4gICAgICAgIDxQaXBlbGluZSAvPlxuICAgICAgPC9BcHBQcm92aWRlcj5cbiAgICApXG4gICAgXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1NhbGVzIFBpcGVsaW5lJykpLnRvQmVJblRoZURvY3VtZW50KClcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvbm8gY2xpZW50cyBpbiBwaXBlbGluZS9pKSkudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxuXG4gIHRlc3QoJ2NhbGN1bGF0ZXMgY29udmVyc2lvbiByYXRlcyBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgcmVuZGVyV2l0aFByb3ZpZGVyKDxQaXBlbGluZSAvPilcbiAgICBcbiAgICBjb25zdCB0b3RhbENsaWVudHMgPSBtb2NrQ2xpZW50cy5sZW5ndGhcbiAgICBjb25zdCBjbG9zZWRDbGllbnRzID0gbW9ja0NsaWVudHMuZmlsdGVyKGMgPT4gYy5zdGFnZSA9PT0gJ2Nsb3NlZCcpLmxlbmd0aFxuICAgIGNvbnN0IGNvbnZlcnNpb25SYXRlID0gTWF0aC5yb3VuZCgoY2xvc2VkQ2xpZW50cyAvIHRvdGFsQ2xpZW50cykgKiAxMDApXG4gICAgXG4gICAgZXhwZWN0KGNvbnZlcnNpb25SYXRlKS50b0JlKDI1KSAvLyAxIG91dCBvZiA0IGNsaWVudHMgY2xvc2VkXG4gIH0pXG5cbiAgdGVzdCgnc2hvd3MgcGlwZWxpbmUgdmVsb2NpdHkgbWV0cmljcycsICgpID0+IHtcbiAgICByZW5kZXJXaXRoUHJvdmlkZXIoPFBpcGVsaW5lIC8+KVxuICAgIFxuICAgIC8vIFN3aXRjaCB0byBtZXRyaWNzIHZpZXcgdG8gc2VlIHZlbG9jaXR5XG4gICAgY29uc3QgbWV0cmljc0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ01ldHJpY3MnKVxuICAgIGZpcmVFdmVudC5jbGljayhtZXRyaWNzQnV0dG9uKVxuICAgIFxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3BpcGVsaW5lLW1ldHJpY3MtdmlldycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgdGVzdCgnYnVsayBhY3Rpb25zIHdvcmsgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIHJlbmRlcldpdGhQcm92aWRlcig8UGlwZWxpbmUgLz4pXG4gICAgXG4gICAgLy8gU2VsZWN0IG11bHRpcGxlIGNsaWVudHNcbiAgICBjb25zdCBjaGVja2JveGVzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnY2hlY2tib3gnKVxuICAgIFxuICAgIGlmIChjaGVja2JveGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2hlY2tib3hlc1swXSlcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2hlY2tib3hlc1sxXSlcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgdGhhdCBidWxrIGFjdGlvbnMgYmVjb21lIGF2YWlsYWJsZVxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0J1bGsgQWN0aW9ucycpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gICAgfVxuICB9KVxuXG4gIHRlc3QoJ2V4cG9ydCBmdW5jdGlvbmFsaXR5IHdvcmtzJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKVxuICAgIHJlbmRlcldpdGhQcm92aWRlcig8UGlwZWxpbmUgLz4pXG4gICAgXG4gICAgY29uc3QgZXhwb3J0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRXhwb3J0JylcbiAgICBhd2FpdCB1c2VyLmNsaWNrKGV4cG9ydEJ1dHRvbilcbiAgICBcbiAgICAvLyBTaG91bGQgc2hvdyBleHBvcnQgb3B0aW9uc1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdFeHBvcnQgUGlwZWxpbmUgRGF0YScpKS50b0JlSW5UaGVEb2N1bWVudCgpXG4gIH0pXG5cbiAgdGVzdCgncmVzcG9uc2l2ZSBkZXNpZ24gYWRhcHRzIHRvIHNjcmVlbiBzaXplJywgKCkgPT4ge1xuICAgIC8vIE1vY2sgd2luZG93LmlubmVyV2lkdGhcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnaW5uZXJXaWR0aCcsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IDc2OCxcbiAgICB9KVxuICAgIFxuICAgIHJlbmRlcldpdGhQcm92aWRlcig8UGlwZWxpbmUgLz4pXG4gICAgXG4gICAgLy8gQ2hlY2sgdGhhdCBtb2JpbGUgdmlldyBpcyByZW5kZXJlZFxuICAgIGNvbnN0IHBpcGVsaW5lQ29udGFpbmVyID0gc2NyZWVuLmdldEJ5VGV4dCgnU2FsZXMgUGlwZWxpbmUnKS5jbG9zZXN0KCdkaXYnKVxuICAgIGV4cGVjdChwaXBlbGluZUNvbnRhaW5lcikudG9CZUluVGhlRG9jdW1lbnQoKVxuICB9KVxufSkiXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VDbGllbnRBY3Rpb25zIiwidXBkYXRlQ2xpZW50U3RhZ2UiLCJmbiIsImFkZENsaWVudCIsInVwZGF0ZUNsaWVudCIsImRlbGV0ZUNsaWVudCIsIm1vdGlvbiIsImRpdiIsImNoaWxkcmVuIiwicHJvcHMiLCJidXR0b24iLCJBbmltYXRlUHJlc2VuY2UiLCJNb2NrUGlwZWxpbmVNZXRyaWNzVmlldyIsImRhdGEtdGVzdGlkIiwiTW9ja1BpcGVsaW5lQ2FyZHNWaWV3IiwibW9ja0NsaWVudHMiLCJpZCIsIm5hbWUiLCJlbWFpbCIsInBob25lIiwiY29tcGFueSIsInN0YWdlIiwidmFsdWUiLCJsYXN0Q29udGFjdCIsIm5vdGVzIiwicHJvamVjdHMiLCJ0YWdzIiwicHJpb3JpdHkiLCJzb3VyY2UiLCJhc3NpZ25lZFRvIiwibW9ja1NhbGVzU3RhZ2VzIiwiY29sb3IiLCJtb2NrSW5pdGlhbFN0YXRlIiwiY2xpZW50cyIsInNhbGVzU3RhZ2VzIiwiY29udHJhY3RzIiwiaW52b2ljZXMiLCJ0YXNrcyIsInJlcG9ydHMiLCJzZXR0aW5ncyIsImN1cnJlbmN5IiwiZGF0ZUZvcm1hdCIsInRpbWV6b25lIiwicmVuZGVyV2l0aFByb3ZpZGVyIiwiY29tcG9uZW50IiwicmVuZGVyIiwiQXBwUHJvdmlkZXIiLCJpbml0aWFsU3RhdGUiLCJkZXNjcmliZSIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwidGVzdCIsIlBpcGVsaW5lIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJsZWFkVG90YWwiLCJmaWx0ZXIiLCJjIiwicmVkdWNlIiwic3VtIiwicXVhbGlmaWVkVG90YWwiLCJwcm9wb3NhbFRvdGFsIiwiY2xvc2VkVG90YWwiLCJ0b0JlIiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwibWV0cmljc0J1dHRvbiIsImNsaWNrIiwiZ2V0QnlUZXN0SWQiLCJzZWFyY2hJbnB1dCIsImdldEJ5UGxhY2Vob2xkZXJUZXh0IiwidHlwZSIsInF1ZXJ5QnlUZXh0Iiwibm90IiwiZmlsdGVyQnV0dG9uIiwibWluVmFsdWVJbnB1dCIsImdldEJ5TGFiZWxUZXh0IiwiY2xlYXIiLCJsZWFkQ291bnQiLCJsZW5ndGgiLCJxdWFsaWZpZWRDb3VudCIsInByb3Bvc2FsQ291bnQiLCJjbG9zZWRDb3VudCIsImNsaWVudENhcmQiLCJjbG9zZXN0IiwiZmlyZUV2ZW50IiwiZHJhZ1N0YXJ0IiwicXVhbGlmaWVkU3RhZ2UiLCJkcmFnT3ZlciIsImRyb3AiLCJoaWdoUHJpb3JpdHlFbGVtZW50cyIsImdldEFsbEJ5VGV4dCIsIm1lZGl1bVByaW9yaXR5RWxlbWVudHMiLCJsb3dQcmlvcml0eUVsZW1lbnRzIiwidG9CZUdyZWF0ZXJUaGFuIiwiZW1wdHlTdGF0ZSIsInRvdGFsQ2xpZW50cyIsImNsb3NlZENsaWVudHMiLCJjb252ZXJzaW9uUmF0ZSIsIk1hdGgiLCJyb3VuZCIsImNoZWNrYm94ZXMiLCJnZXRBbGxCeVJvbGUiLCJleHBvcnRCdXR0b24iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwicGlwZWxpbmVDb250YWluZXIiXSwibWFwcGluZ3MiOiI7QUFRQSxpQkFBaUI7QUFDakJBLEtBQUtDLElBQUksQ0FBQyxnQ0FBZ0MsSUFBTyxDQUFBO1FB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