{"version":3,"names":["_default","EmailDetailModal","selectedEmail","showEmailDetail","onClose","onToggleStar","onReply","getLabelColor","getLabelBgColor","getLabelTextColor","labels","cov_1yd5ri0m47","f","s","b","_jsxruntime","jsx","className","jsxs","subject","onClick","_lucidereact","X","size","from","charAt","email","date","e","id","Star","starred","MoreHorizontal","length","map","labelId","style","backgroundColor","color","find","l","name","dangerouslySetInnerHTML","__html","_security","sanitizeHTML","body","attachments","attachment","index","Paperclip","Reply","ReplyAll","Forward"],"sources":["C:\\Users\\chase\\Downloads\\crm (32)\\src\\components\\email\\EmailDetailModal.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport {\n  X,\n  Star,\n  MoreHorizontal,\n  Reply,\n  ReplyAll,\n  Forward,\n  Paperclip,\n} from \"lucide-react\"\nimport { sanitizeHTML } from \"../../utils/security\"\n\ninterface Email {\n  id: string\n  from: string\n  email: string\n  subject: string\n  preview: string\n  body: string\n  date: string\n  read: boolean\n  starred: boolean\n  labels: string[]\n  folder: string\n  attachments?: Array<{\n    name: string\n    size: string\n    type: string\n  }>\n}\n\ninterface Label {\n  id: string\n  name: string\n  color: string\n}\n\ninterface EmailDetailModalProps {\n  selectedEmail: Email | null\n  showEmailDetail: boolean\n  onClose: () => void\n  onToggleStar: (emailId: string, e: React.MouseEvent) => void\n  onReply: (mode: \"reply\" | \"reply-all\" | \"forward\") => void\n  getLabelColor: (labelId: string) => string\n  getLabelBgColor: (color: string) => string\n  getLabelTextColor: (color: string) => string\n  labels: Label[]\n}\n\nconst EmailDetailModal: React.FC<EmailDetailModalProps> = ({\n  selectedEmail,\n  showEmailDetail,\n  onClose,\n  onToggleStar,\n  onReply,\n  getLabelColor,\n  getLabelBgColor,\n  getLabelTextColor,\n  labels,\n}) => {\n  if (!selectedEmail || !showEmailDetail) return null\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <h2 className=\"text-lg font-semibold truncate\">{selectedEmail.subject}</h2>\n          <button onClick={onClose} className=\"p-2 hover:bg-gray-100 rounded-lg\">\n            <X size={20} />\n          </button>\n        </div>\n\n        {/* Email Content */}\n        <div className=\"flex-1 overflow-y-auto\">\n          {/* Email Header */}\n          <div className=\"p-4 border-b border-gray-200\">\n            <div className=\"flex items-start justify-between\">\n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium\">\n                    {selectedEmail.from ? selectedEmail.from.charAt(0) : '?'}\n                  </div>\n                  <div>\n                    <p className=\"font-medium\">{selectedEmail.from}</p>\n                    <p className=\"text-sm text-gray-500\">{selectedEmail.email}</p>\n                  </div>\n                </div>\n                <p className=\"text-sm text-gray-500\">To: you@company.com</p>\n                <p className=\"text-sm text-gray-500\">{selectedEmail.date}</p>\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                <button onClick={(e) => onToggleStar(selectedEmail.id, e)} className=\"p-2 hover:bg-gray-100 rounded-lg\">\n                  <Star\n                    size={18}\n                    className={selectedEmail.starred ? \"text-yellow-400 fill-yellow-400\" : \"text-gray-400\"}\n                  />\n                </button>\n                <button className=\"p-2 hover:bg-gray-100 rounded-lg\">\n                  <MoreHorizontal size={18} />\n                </button>\n              </div>\n            </div>\n\n            {/* Labels */}\n            {selectedEmail.labels && selectedEmail.labels.length > 0 && (\n              <div className=\"flex gap-1 mt-2\">\n                {selectedEmail.labels.map((labelId) => (\n                  <span\n                    key={labelId}\n                    className=\"text-xs px-2 py-1 rounded-full\"\n                    style={{\n                      backgroundColor: getLabelBgColor(getLabelColor(labelId)),\n                      color: getLabelTextColor(getLabelColor(labelId)),\n                    }}\n                  >\n                    {labels.find((l) => l.id === labelId)?.name}\n                  </span>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Email Body */}\n          <div className=\"p-4\">\n            <div className=\"prose max-w-none\" dangerouslySetInnerHTML={{ __html: sanitizeHTML(selectedEmail.body) }} />\n          </div>\n\n          {/* Attachments */}\n          {selectedEmail.attachments && selectedEmail.attachments.length > 0 && (\n            <div className=\"p-4 border-t border-gray-200\">\n              <p className=\"text-sm font-medium text-gray-700 mb-2\">\n                Attachments ({selectedEmail.attachments.length})\n              </p>\n              <div className=\"space-y-2\">\n                {selectedEmail.attachments.map((attachment, index) => (\n                  <div key={index} className=\"flex items-center gap-3 p-2 bg-gray-50 rounded-lg\">\n                    <Paperclip size={16} className=\"text-gray-500\" />\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm font-medium\">{attachment.name}</p>\n                      <p className=\"text-xs text-gray-500\">{attachment.size}</p>\n                    </div>\n                    <button className=\"text-blue-600 hover:text-blue-800 text-sm\">Download</button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"p-4 border-t border-gray-200 flex gap-2\">\n          <button\n            onClick={() => onReply(\"reply\")}\n            className=\"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n          >\n            <Reply size={16} />\n            Reply\n          </button>\n          <button\n            onClick={() => onReply(\"reply-all\")}\n            className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            <ReplyAll size={16} />\n            Reply All\n          </button>\n          <button\n            onClick={() => onReply(\"forward\")}\n            className=\"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n          >\n            <Forward size={16} />\n            Forward\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default EmailDetailModal"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAsLA;;;;;;WAAAA,QAAA;;;;;;;;wEApLkB;;;kCASX;;;kCACsB;;;;;;;;;;;;;;;;;AAuC7B,MAAMC,gBAAA,GAAoDA,CAAC;EACzDC,aAAa;EACbC,eAAe;EACfC,OAAO;EACPC,YAAY;EACZC,OAAO;EACPC,aAAa;EACbC,eAAe;EACfC,iBAAiB;EACjBC;AAAM,CACP;EAAA;EAAAC,cAAA,GAAAC,CAAA;EAAAD,cAAA,GAAAE,CAAA;EACC;EAAI;EAAA,CAAAF,cAAA,GAAAG,CAAA,WAACZ,aAAA;EAAA;EAAA,CAAAS,cAAA,GAAAG,CAAA,UAAiB,CAACX,eAAA,GAAiB;IAAA;IAAAQ,cAAA,GAAAG,CAAA;IAAAH,cAAA,GAAAE,CAAA;IAAA,OAAO;EAAA;EAAA;EAAA;IAAAF,cAAA,GAAAG,CAAA;EAAA;EAAAH,cAAA,GAAAE,CAAA;EAE/C,oBACE,IAAAE,WAAA,CAAAC,GAAA,EAAC;IAAIC,SAAA,EAAU;cACb,iBAAAF,WAAA,CAAAG,IAAA,EAAC;MAAID,SAAA,EAAU;8BAEb,IAAAF,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;UAAGC,SAAA,EAAU;oBAAkCf,aAAA,CAAciB;yBAC9D,IAAAJ,WAAA,CAAAC,GAAA,EAAC;UAAOI,OAAA,EAAShB,OAAA;UAASa,SAAA,EAAU;oBAClC,iBAAAF,WAAA,CAAAC,GAAA,EAACK,YAAA,CAAAC,CAAC;YAACC,IAAA,EAAM;;;uBAKb,IAAAR,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCAEb,IAAAF,WAAA,CAAAG,IAAA,EAAC;UAAID,SAAA,EAAU;kCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;YAAID,SAAA,EAAU;oCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;cAAID,SAAA,EAAU;sCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;gBAAID,SAAA,EAAU;wCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;kBAAIC,SAAA,EAAU;4BACZf,aAAA,CAAcsB,IAAI;kBAAA;kBAAA,CAAAb,cAAA,GAAAG,CAAA,UAAGZ,aAAA,CAAcsB,IAAI,CAACC,MAAM,CAAC;kBAAA;kBAAA,CAAAd,cAAA,GAAAG,CAAA,UAAK;iCAEvD,IAAAC,WAAA,CAAAG,IAAA,EAAC;0CACC,IAAAH,WAAA,CAAAC,GAAA,EAAC;oBAAEC,SAAA,EAAU;8BAAef,aAAA,CAAcsB;mCAC1C,IAAAT,WAAA,CAAAC,GAAA,EAAC;oBAAEC,SAAA,EAAU;8BAAyBf,aAAA,CAAcwB;;;+BAGxD,IAAAX,WAAA,CAAAC,GAAA,EAAC;gBAAEC,SAAA,EAAU;0BAAwB;+BACrC,IAAAF,WAAA,CAAAC,GAAA,EAAC;gBAAEC,SAAA,EAAU;0BAAyBf,aAAA,CAAcyB;;6BAGtD,IAAAZ,WAAA,CAAAG,IAAA,EAAC;cAAID,SAAA,EAAU;sCACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;gBAAOI,OAAA,EAAUQ,CAAA,IAAM;kBAAA;kBAAAjB,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAE,CAAA;kBAAA,OAAAR,YAAA,CAAaH,aAAA,CAAc2B,EAAE,EAAED,CAAA;gBAAA;gBAAIX,SAAA,EAAU;0BACnE,iBAAAF,WAAA,CAAAC,GAAA,EAACK,YAAA,CAAAS,IAAI;kBACHP,IAAA,EAAM;kBACNN,SAAA,EAAWf,aAAA,CAAc6B,OAAO;kBAAA;kBAAA,CAAApB,cAAA,GAAAG,CAAA,UAAG;kBAAA;kBAAA,CAAAH,cAAA,GAAAG,CAAA,UAAoC;;+BAG3E,IAAAC,WAAA,CAAAC,GAAA,EAAC;gBAAOC,SAAA,EAAU;0BAChB,iBAAAF,WAAA,CAAAC,GAAA,EAACK,YAAA,CAAAW,cAAc;kBAACT,IAAA,EAAM;;;;;UAM3B;UAAA,CAAAZ,cAAA,GAAAG,CAAA,UAAAZ,aAAA,CAAcQ,MAAM;UAAA;UAAA,CAAAC,cAAA,GAAAG,CAAA,UAAIZ,aAAA,CAAcQ,MAAM,CAACuB,MAAM,GAAG;UAAA;UAAA,CAAAtB,cAAA,GAAAG,CAAA,uBACrD,IAAAC,WAAA,CAAAC,GAAA,EAAC;YAAIC,SAAA,EAAU;sBACZf,aAAA,CAAcQ,MAAM,CAACwB,GAAG,CAAEC,OAAA,IACzB;cAAA;cAAAxB,cAAA,GAAAC,CAAA;cAAAD,cAAA,GAAAE,CAAA;cAAA,OADyB,aACzB,IAAAE,WAAA,CAAAC,GAAA,EAAC;gBAECC,SAAA,EAAU;gBACVmB,KAAA,EAAO;kBACLC,eAAA,EAAiB7B,eAAA,CAAgBD,aAAA,CAAc4B,OAAA;kBAC/CG,KAAA,EAAO7B,iBAAA,CAAkBF,aAAA,CAAc4B,OAAA;gBACzC;0BAECzB,MAAA,CAAO6B,IAAI,CAAEC,CAAA,IAAM;kBAAA;kBAAA7B,cAAA,GAAAC,CAAA;kBAAAD,cAAA,GAAAE,CAAA;kBAAA,OAAA2B,CAAA,CAAEX,EAAE,KAAKM,OAAA;gBAAA,IAAUM;iBAPlCN,OAAA;YAAA;;yBAef,IAAApB,WAAA,CAAAC,GAAA,EAAC;UAAIC,SAAA,EAAU;oBACb,iBAAAF,WAAA,CAAAC,GAAA,EAAC;YAAIC,SAAA,EAAU;YAAmByB,uBAAA,EAAyB;cAAEC,MAAA,EAAQ,IAAAC,SAAA,CAAAC,YAAY,EAAC3C,aAAA,CAAc4C,IAAI;YAAE;;;QAIvG;QAAA,CAAAnC,cAAA,GAAAG,CAAA,UAAAZ,aAAA,CAAc6C,WAAW;QAAA;QAAA,CAAApC,cAAA,GAAAG,CAAA,UAAIZ,aAAA,CAAc6C,WAAW,CAACd,MAAM,GAAG;QAAA;QAAA,CAAAtB,cAAA,GAAAG,CAAA,uBAC/D,IAAAC,WAAA,CAAAG,IAAA,EAAC;UAAID,SAAA,EAAU;kCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;YAAED,SAAA,EAAU;uBAAyC,iBACtCf,aAAA,CAAc6C,WAAW,CAACd,MAAM,EAAC;2BAEjD,IAAAlB,WAAA,CAAAC,GAAA,EAAC;YAAIC,SAAA,EAAU;sBACZf,aAAA,CAAc6C,WAAW,CAACb,GAAG,CAAC,CAACc,UAAA,EAAYC,KAAA,KAC1C;cAAA;cAAAtC,cAAA,GAAAC,CAAA;cAAAD,cAAA,GAAAE,CAAA;cAAA,OAD0C,aAC1C,IAAAE,WAAA,CAAAG,IAAA,EAAC;gBAAgBD,SAAA,EAAU;wCACzB,IAAAF,WAAA,CAAAC,GAAA,EAACK,YAAA,CAAA6B,SAAS;kBAAC3B,IAAA,EAAM;kBAAIN,SAAA,EAAU;iCAC/B,IAAAF,WAAA,CAAAG,IAAA,EAAC;kBAAID,SAAA,EAAU;0CACb,IAAAF,WAAA,CAAAC,GAAA,EAAC;oBAAEC,SAAA,EAAU;8BAAuB+B,UAAA,CAAWP;mCAC/C,IAAA1B,WAAA,CAAAC,GAAA,EAAC;oBAAEC,SAAA,EAAU;8BAAyB+B,UAAA,CAAWzB;;iCAEnD,IAAAR,WAAA,CAAAC,GAAA,EAAC;kBAAOC,SAAA,EAAU;4BAA4C;;iBANtDgC,KAAA;YAAA;;;uBAepB,IAAAlC,WAAA,CAAAG,IAAA,EAAC;QAAID,SAAA,EAAU;gCACb,IAAAF,WAAA,CAAAG,IAAA,EAAC;UACCE,OAAA,EAASA,CAAA,KAAM;YAAA;YAAAT,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAE,CAAA;YAAA,OAAAP,OAAA,CAAQ;UAAA;UACvBW,SAAA,EAAU;kCAEV,IAAAF,WAAA,CAAAC,GAAA,EAACK,YAAA,CAAA8B,KAAK;YAAC5B,IAAA,EAAM;cAAM;yBAGrB,IAAAR,WAAA,CAAAG,IAAA,EAAC;UACCE,OAAA,EAASA,CAAA,KAAM;YAAA;YAAAT,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAE,CAAA;YAAA,OAAAP,OAAA,CAAQ;UAAA;UACvBW,SAAA,EAAU;kCAEV,IAAAF,WAAA,CAAAC,GAAA,EAACK,YAAA,CAAA+B,QAAQ;YAAC7B,IAAA,EAAM;cAAM;yBAGxB,IAAAR,WAAA,CAAAG,IAAA,EAAC;UACCE,OAAA,EAASA,CAAA,KAAM;YAAA;YAAAT,cAAA,GAAAC,CAAA;YAAAD,cAAA,GAAAE,CAAA;YAAA,OAAAP,OAAA,CAAQ;UAAA;UACvBW,SAAA,EAAU;kCAEV,IAAAF,WAAA,CAAAC,GAAA,EAACK,YAAA,CAAAgC,OAAO;YAAC9B,IAAA,EAAM;cAAM;;;;;AAOjC;MAEAvB,QAAA;AAAA;AAAA,CAAAW,cAAA,GAAAE,CAAA,QAAeZ,gBAAA","ignoreList":[]}