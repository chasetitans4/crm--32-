{"version":3,"names":["cov_m1abrnjhz","actualCoverage","s","useLocalStorage","key","initialValue","f","storedValue","setStoredValue","_react","useState","item","window","localStorage","getItem","b","JSON","parse","error","setValue","value","valueToStore","Function","setItem","stringify","console","useEffect","handleStorageChange","e","newValue","addEventListener","removeEventListener"],"sources":["C:\\Users\\chase\\Downloads\\crm (32)\\src\\hooks\\useLocalStorage.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\n\nexport function useLocalStorage<T>(key: string, initialValue: T) {\n  // State to store our value\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key)\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue\n    } catch (error) {\n      // If error also return initialValue - error handled silently\n      return initialValue\n    }\n  })\n\n  // Return a wrapped version of useState's setter function that\n  // persists the new value to localStorage.\n  const setValue = (value: T | ((val: T) => T)) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore = value instanceof Function ? value(storedValue) : value\n      // Save state\n      setStoredValue(valueToStore)\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore))\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.error(\"Error writing to localStorage:\", error)\n    }\n  }\n\n  // Listen for changes to this localStorage key from other tabs/windows\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === key && e.newValue) {\n        setStoredValue(JSON.parse(e.newValue))\n      }\n    }\n\n    // Add event listener\n    window.addEventListener(\"storage\", handleStorageChange)\n\n    // Remove event listener on cleanup\n    return () => {\n      window.removeEventListener(\"storage\", handleStorageChange)\n    }\n  }, [key])\n\n  return [storedValue, setValue] as const\n}\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAOQ;IAAAA,aAAA,YAAAA,CAAA;MAAA,OAAAC,cAAA;IAAA;EAAA;EAAA,OAAAA,cAAA;AAAA;AAAAD,aAAA;AAAAA,aAAA,GAAAE,CAAA;;;;;;+BAHQ;;;;;;WAAAC,eAAA;;;;;iCAFoB;AAE7B,SAASA,gBAAmBC,GAAW,EAAEC,YAAe;EAAA;EAAAL,aAAA,GAAAM,CAAA;EAC7D;EACA,MAAM,CAACC,WAAA,EAAaC,cAAA,CAAe;EAAA;EAAA,CAAAR,aAAA,GAAAE,CAAA,OAAG,IAAAO,MAAA,CAAAC,QAAQ,EAAI;IAAA;IAAAV,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAChD,IAAI;MACF;MACA,MAAMS,IAAA;MAAA;MAAA,CAAAX,aAAA,GAAAE,CAAA,OAAOU,MAAA,CAAOC,YAAY,CAACC,OAAO,CAACV,GAAA;MACzC;MAAA;MAAAJ,aAAA,GAAAE,CAAA;MACA,OAAOS,IAAA;MAAA;MAAA,CAAAX,aAAA,GAAAe,CAAA,UAAOC,IAAA,CAAKC,KAAK,CAACN,IAAA;MAAA;MAAA,CAAAX,aAAA,GAAAe,CAAA,UAAQV,YAAA;IACnC,EAAE,OAAOa,KAAA,EAAO;MAAA;MAAAlB,aAAA,GAAAE,CAAA;MACd;MACA,OAAOG,YAAA;IACT;EACF;EAEA;EACA;EAAA;EAAAL,aAAA,GAAAE,CAAA;EACA,MAAMiB,QAAA,GAAYC,KAAA;IAAA;IAAApB,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IAChB,IAAI;MACF;MACA,MAAMmB,YAAA;MAAA;MAAA,CAAArB,aAAA,GAAAE,CAAA,QAAekB,KAAA,YAAiBE,QAAA;MAAA;MAAA,CAAAtB,aAAA,GAAAe,CAAA,UAAWK,KAAA,CAAMb,WAAA;MAAA;MAAA,CAAAP,aAAA,GAAAe,CAAA,UAAeK,KAAA;MACtE;MAAA;MAAApB,aAAA,GAAAE,CAAA;MACAM,cAAA,CAAea,YAAA;MACf;MAAA;MAAArB,aAAA,GAAAE,CAAA;MACAU,MAAA,CAAOC,YAAY,CAACU,OAAO,CAACnB,GAAA,EAAKY,IAAA,CAAKQ,SAAS,CAACH,YAAA;IAClD,EAAE,OAAOH,KAAA,EAAO;MAAA;MAAAlB,aAAA,GAAAE,CAAA;MACd;MACAuB,OAAA,CAAQP,KAAK,CAAC,kCAAkCA,KAAA;IAClD;EACF;EAEA;EAAA;EAAAlB,aAAA,GAAAE,CAAA;EACA,IAAAO,MAAA,CAAAiB,SAAS,EAAC;IAAA;IAAA1B,aAAA,GAAAM,CAAA;IAAAN,aAAA,GAAAE,CAAA;IACR,MAAMyB,mBAAA,GAAuBC,CAAA;MAAA;MAAA5B,aAAA,GAAAM,CAAA;MAAAN,aAAA,GAAAE,CAAA;MAC3B;MAAI;MAAA,CAAAF,aAAA,GAAAe,CAAA,UAAAa,CAAA,CAAExB,GAAG,KAAKA,GAAA;MAAA;MAAA,CAAAJ,aAAA,GAAAe,CAAA,UAAOa,CAAA,CAAEC,QAAQ,GAAE;QAAA;QAAA7B,aAAA,GAAAe,CAAA;QAAAf,aAAA,GAAAE,CAAA;QAC/BM,cAAA,CAAeQ,IAAA,CAAKC,KAAK,CAACW,CAAA,CAAEC,QAAQ;MACtC;MAAA;MAAA;QAAA7B,aAAA,GAAAe,CAAA;MAAA;IACF;IAEA;IAAA;IAAAf,aAAA,GAAAE,CAAA;IACAU,MAAA,CAAOkB,gBAAgB,CAAC,WAAWH,mBAAA;IAEnC;IAAA;IAAA3B,aAAA,GAAAE,CAAA;IACA,OAAO;MAAA;MAAAF,aAAA,GAAAM,CAAA;MAAAN,aAAA,GAAAE,CAAA;MACLU,MAAA,CAAOmB,mBAAmB,CAAC,WAAWJ,mBAAA;IACxC;EACF,GAAG,CAACvB,GAAA,CAAI;EAAA;EAAAJ,aAAA,GAAAE,CAAA;EAER,OAAO,CAACK,WAAA,EAAaY,QAAA,CAAS;AAChC","ignoreList":[]}