{"version":3,"names":["_default","PipelineMetricsView","salesStages","getStageStats","calculateStageMetrics","getConversionRate","cov_23rigxxr3f","f","s","_jsxruntime","jsx","className","map","stage","stats","id","metrics","conversionRate","jsxs","_framermotion","motion","div","initial","opacity","scale","animate","transition","duration","delay","findIndex","name","_lucidereact","Users","count","b","bottleneck","AlertCircle","value","toLocaleString","avgDaysInStage","trend","TrendingUp","velocity","toFixed","forecast"],"sources":["C:\\Users\\chase\\Downloads\\crm (32)\\src\\components\\Pipeline\\PipelineMetricsView.tsx"],"sourcesContent":["\"use client\"\n\nimport React from \"react\"\nimport { motion } from \"framer-motion\"\nimport { Users, AlertCircle, TrendingUp } from \"lucide-react\"\n\ninterface StageMetrics {\n  velocity: number\n  bottleneck: boolean\n  trend: 'up' | 'down' | 'stable'\n  forecast: number\n}\n\ninterface StageStats {\n  count: number\n  value: number\n  avgDaysInStage: number\n  clients: any[]\n}\n\ninterface SalesStage {\n  id: string\n  name: string\n}\n\ninterface PipelineMetricsViewProps {\n  salesStages: SalesStage[]\n  getStageStats: (stageId: string) => StageStats\n  calculateStageMetrics: (stageId: string) => StageMetrics\n  getConversionRate: (stageId: string) => number | null\n}\n\nconst PipelineMetricsView: React.FC<PipelineMetricsViewProps> = ({\n  salesStages,\n  getStageStats,\n  calculateStageMetrics,\n  getConversionRate\n}) => {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n      {salesStages.map((stage) => {\n        const stats = getStageStats(stage.id)\n        const metrics = calculateStageMetrics(stage.id)\n        const conversionRate = getConversionRate(stage.id)\n\n        return (\n          <motion.div\n            key={stage.id}\n            className=\"bg-white rounded-xl shadow-sm border p-6\"\n            initial={{ opacity: 0, scale: 0.9 }}\n            animate={{ opacity: 1, scale: 1 }}\n            transition={{ duration: 0.3, delay: salesStages.findIndex(s => s.id === stage.id) * 0.05 }}\n          >\n            <div className=\"flex justify-between items-start mb-4\">\n              <div>\n                <h3 className=\"font-semibold text-lg\">{stage.name}</h3>\n                <div className=\"flex items-center mt-1 text-sm text-gray-500\">\n                  <Users className=\"h-3.5 w-3.5 mr-1\" />\n                  <span>{stats.count} clients</span>\n                </div>\n              </div>\n              {metrics.bottleneck && (\n                <div className=\"bg-red-100 text-red-700 px-2 py-1 rounded-full text-xs font-medium flex items-center\">\n                  <AlertCircle className=\"h-3 w-3 mr-1\" />\n                  Bottleneck\n                </div>\n              )}\n            </div>\n\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-500\">Total Value</span>\n                <span className=\"font-semibold\">${stats.value.toLocaleString()}</span>\n              </div>\n              \n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-500\">Avg. Cycle Time</span>\n                <span className=\"font-medium\">{stats.avgDaysInStage} days</span>\n              </div>\n              \n              {conversionRate !== null && (\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-500\">Conversion Rate</span>\n                  <span className=\"font-medium\">{conversionRate}%</span>\n                </div>\n              )}\n              \n              <div className=\"flex justify-between items-center\">\n                <span className=\"text-sm text-gray-500\">Velocity</span>\n                <div className=\"flex items-center\">\n                  {metrics.trend === 'up' && <TrendingUp className=\"h-4 w-4 text-green-500 mr-1\" />}\n                  {metrics.trend === 'down' && <TrendingUp className=\"h-4 w-4 text-red-500 mr-1 rotate-180\" />}\n                  <span className={`font-medium ${\n                    metrics.trend === 'up' ? 'text-green-600' : \n                    metrics.trend === 'down' ? 'text-red-600' : \n                    'text-gray-600'\n                  }`}>\n                    {metrics.velocity > 0 ? '+' : ''}{(metrics.velocity * 100).toFixed(0)}%\n                  </span>\n                </div>\n              </div>\n              \n              <div className=\"pt-3 border-t\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-sm text-gray-500\">Forecast (Next Week)</span>\n                  <span className=\"font-medium\">{metrics.forecast} clients</span>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default PipelineMetricsView"],"mappings":"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","ignoreList":[]}