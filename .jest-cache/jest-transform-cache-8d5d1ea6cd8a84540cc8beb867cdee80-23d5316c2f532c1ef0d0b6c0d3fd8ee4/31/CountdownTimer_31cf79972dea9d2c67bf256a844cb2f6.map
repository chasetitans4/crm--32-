{"version":3,"names":["cov_fqb0u12g1","actualCoverage","s","CountdownTimer","f","default","_default","itemId","itemType","daysRemaining","expiresAt","isExtended","b","title","description","className","onExpire","timeLeft","setTimeLeft","_react","useState","days","hours","minutes","seconds","isExpired","setIsExpired","expiredRef","useRef","useEffect","calculateTimeLeft","now","Date","getTime","target","difference","Math","floor","current","timer","setInterval","clearInterval","_jsxruntime","jsxs","jsx","_lucidereact","AlertCircle","defaultDescription","Clock","undefined"],"sources":["C:\\Users\\chase\\Downloads\\crm (32)\\src\\components\\CountdownTimer.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Clock, AlertCircle } from 'lucide-react';\n\ninterface CountdownTimerProps {\n  itemId: string;\n  itemType: 'quote' | 'proposal';\n  daysRemaining?: number;\n  expiresAt: Date;\n  isExtended?: boolean;\n  title?: string;\n  description?: string;\n  className?: string;\n  onExpire?: () => void;\n}\n\nexport const CountdownTimer: React.FC<CountdownTimerProps> = ({\n  itemId,\n  itemType,\n  daysRemaining,\n  expiresAt,\n  isExtended = false,\n  title = \"Limited Time Offer\",\n  description,\n  className = \"\",\n  onExpire\n}) => {\n  const [timeLeft, setTimeLeft] = useState({\n    days: 0,\n    hours: 0,\n    minutes: 0,\n    seconds: 0\n  });\n  const [isExpired, setIsExpired] = useState(false);\n  const expiredRef = useRef(false);\n\n  useEffect(() => {\n    const calculateTimeLeft = () => {\n      const now = new Date().getTime();\n      const target = expiresAt.getTime();\n      const difference = target - now;\n\n      if (difference > 0) {\n        const days = Math.floor(difference / (1000 * 60 * 60 * 24));\n        const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = Math.floor((difference % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((difference % (1000 * 60)) / 1000);\n\n        setTimeLeft({ days, hours, minutes, seconds });\n        setIsExpired(false);\n      } else {\n        setTimeLeft({ days: 0, hours: 0, minutes: 0, seconds: 0 });\n        if (!expiredRef.current) {\n          expiredRef.current = true;\n          setIsExpired(true);\n          onExpire?.();\n        }\n      }\n    };\n\n    calculateTimeLeft();\n    const timer = setInterval(calculateTimeLeft, 1000);\n\n    return () => clearInterval(timer);\n  }, [expiresAt, onExpire]);\n\n  // Reset expiredRef when expiresAt changes\n  useEffect(() => {\n    expiredRef.current = false;\n  }, [expiresAt]);\n\n  if (isExpired) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 mb-6\">\n        <div className=\"flex items-center space-x-2 text-red-700\">\n          <AlertCircle className=\"h-5 w-5\" />\n          <span className=\"font-medium\">Offer Expired</span>\n        </div>\n        <p className=\"text-red-600 mt-1\">This promotion has ended. Contact us for current pricing.</p>\n      </div>\n    );\n  }\n\n  const defaultDescription = description || `Your ${itemType} will expire soon. ${isExtended ? 'This deadline has been extended.' : 'Contact us to extend if needed.'}`;\n\n  return (\n    <div className={`bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg p-6 ${className}`}>\n      <div className=\"text-center\">\n        <div className=\"flex items-center justify-center space-x-2 mb-2\">\n          <Clock className=\"h-5 w-5\" />\n          <h3 className=\"text-lg font-semibold\">{title}</h3>\n        </div>\n        <p className=\"text-purple-100 mb-4\">{defaultDescription}</p>\n        {daysRemaining !== undefined && (\n          <p className=\"text-purple-200 text-sm mb-2\">\n            {daysRemaining} days remaining {isExtended && '(Extended)'}\n          </p>\n        )}\n        \n        <div className=\"flex justify-center space-x-4\">\n          <div className=\"text-center\">\n            <div className=\"bg-white/20 rounded-lg p-3 min-w-[60px]\">\n              <div className=\"text-2xl font-bold\">{timeLeft.days}</div>\n              <div className=\"text-xs uppercase tracking-wide\">Days</div>\n            </div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"bg-white/20 rounded-lg p-3 min-w-[60px]\">\n              <div className=\"text-2xl font-bold\">{timeLeft.hours}</div>\n              <div className=\"text-xs uppercase tracking-wide\">Hours</div>\n            </div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"bg-white/20 rounded-lg p-3 min-w-[60px]\">\n              <div className=\"text-2xl font-bold\">{timeLeft.minutes}</div>\n              <div className=\"text-xs uppercase tracking-wide\">Minutes</div>\n            </div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"bg-white/20 rounded-lg p-3 min-w-[60px]\">\n              <div className=\"text-2xl font-bold\">{timeLeft.seconds}</div>\n              <div className=\"text-xs uppercase tracking-wide\">Seconds</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CountdownTimer;\n"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}